/*! For license information please see array-sqlizr.js.LICENSE.txt */
(()=>{var r={962:function(r,t){!function(e){"use strict";var n="Compound",o="MemberExpression",i="Literal",u=function(r,t){var e=new Error(r+" at character "+t);throw e.index=t,e.description=r,e},a=!0,s={"-":a,"!":a,"~":a,"+":a},p={"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":10,"/":10,"%":10},c=function(r){var t,e=0;for(var n in r)(t=n.length)>e&&r.hasOwnProperty(n)&&(e=t);return e},f=c(s),l=c(p),h={true:!0,false:!1,null:null},y=function(r){return p[r]||0},g=function(r,t,e){return{type:"||"===r||"&&"===r?"LogicalExpression":"BinaryExpression",operator:r,left:t,right:e}},v=function(r){return r>=48&&r<=57},d=function(r){return 36===r||95===r||r>=65&&r<=90||r>=97&&r<=122||r>=128&&!p[String.fromCharCode(r)]},m=function(r){return 36===r||95===r||r>=65&&r<=90||r>=97&&r<=122||r>=48&&r<=57||r>=128&&!p[String.fromCharCode(r)]},b=function(r){for(var t,e,a=0,c=r.charAt,b=r.charCodeAt,x=function(t){return c.call(r,t)},w=function(t){return b.call(r,t)},E=r.length,O=function(){for(var r=w(a);32===r||9===r||10===r||13===r;)r=w(++a)},A=function(){var r,t,e=U();return O(),63!==w(a)?e:(a++,(r=A())||u("Expected expression",a),O(),58===w(a)?(a++,(t=A())||u("Expected expression",a),{type:"ConditionalExpression",test:e,consequent:r,alternate:t}):void u("Expected :",a))},C=function(){O();for(var t=r.substr(a,l),e=t.length;e>0;){if(p.hasOwnProperty(t)&&(!d(w(a))||a+t.length<r.length&&!m(w(a+t.length))))return a+=e,t;t=t.substr(0,--e)}return!1},U=function(){var r,t,e,n,o,i,s,p,c;if(i=N(),!(t=C()))return i;for(o={value:t,prec:y(t)},(s=N())||u("Expected expression after "+t,a),n=[i,o,s];(t=C())&&0!==(e=y(t));){for(o={value:t,prec:e},c=t;n.length>2&&e<=n[n.length-2].prec;)s=n.pop(),t=n.pop().value,i=n.pop(),r=g(t,i,s),n.push(r);(r=N())||u("Expected expression after "+c,a),n.push(o,r)}for(r=n[p=n.length-1];p>1;)r=g(n[p-1].value,n[p-2],r),p-=2;return r},N=function(){var t,e,n;if(O(),t=w(a),v(t)||46===t)return j();if(39===t||34===t)return P();if(91===t)return B();for(n=(e=r.substr(a,f)).length;n>0;){if(s.hasOwnProperty(e)&&(!d(w(a))||a+e.length<r.length&&!m(w(a+e.length))))return a+=n,{type:"UnaryExpression",operator:e,argument:N(),prefix:!0};e=e.substr(0,--n)}return!(!d(t)&&40!==t)&&R()},j=function(){for(var r,t,e="";v(w(a));)e+=x(a++);if(46===w(a))for(e+=x(a++);v(w(a));)e+=x(a++);if("e"===(r=x(a))||"E"===r){for(e+=x(a++),"+"!==(r=x(a))&&"-"!==r||(e+=x(a++));v(w(a));)e+=x(a++);v(w(a-1))||u("Expected exponent ("+e+x(a)+")",a)}return t=w(a),d(t)?u("Variable names cannot start with a number ("+e+x(a)+")",a):46===t&&u("Unexpected period",a),{type:i,value:parseFloat(e),raw:e}},P=function(){for(var r,t="",e=x(a++),n=!1;a<E;){if((r=x(a++))===e){n=!0;break}if("\\"===r)switch(r=x(a++)){case"n":t+="\n";break;case"r":t+="\r";break;case"t":t+="\t";break;case"b":t+="\b";break;case"f":t+="\f";break;case"v":t+="\v";break;default:t+=r}else t+=r}return n||u('Unclosed quote after "'+t+'"',a),{type:i,value:t,raw:e+t+e}},I=function(){var t,e=w(a),n=a;for(d(e)?a++:u("Unexpected "+x(a),a);a<E&&(e=w(a),m(e));)a++;return t=r.slice(n,a),h.hasOwnProperty(t)?{type:i,value:h[t],raw:t}:"this"===t?{type:"ThisExpression"}:{type:"Identifier",name:t}},Q=function(r){for(var t,e,o=[],i=!1,s=0;a<E;){if(O(),(t=w(a))===r){i=!0,a++,41===r&&s&&s>=o.length&&u("Unexpected token "+String.fromCharCode(r),a);break}if(44===t){if(a++,++s!==o.length)if(41===r)u("Unexpected token ,",a);else if(93===r)for(var p=o.length;p<s;p++)o.push(null)}else(e=A())&&e.type!==n||u("Expected comma",a),o.push(e)}return i||u("Expected "+String.fromCharCode(r),a),o},R=function(){var r,t;for(t=40===(r=w(a))?W():I(),O(),r=w(a);46===r||91===r||40===r;)a++,46===r?(O(),t={type:o,computed:!1,object:t,property:I()}):91===r?(t={type:o,computed:!0,object:t,property:A()},O(),93!==(r=w(a))&&u("Unclosed [",a),a++):40===r&&(t={type:"CallExpression",arguments:Q(41),callee:t}),O(),r=w(a);return t},W=function(){a++;var r=A();if(O(),41===w(a))return a++,r;u("Unclosed (",a)},B=function(){return a++,{type:"ArrayExpression",elements:Q(93)}},k=[];a<E;)59===(t=w(a))||44===t?a++:(e=A())?k.push(e):a<E&&u('Unexpected "'+x(a)+'"',a);return 1===k.length?k[0]:{type:n,body:k}};b.version="0.3.5",b.toString=function(){return"JavaScript Expression Parser (JSEP) v"+b.version},b.addUnaryOp=function(r){return f=Math.max(r.length,f),s[r]=a,this},b.addBinaryOp=function(r,t){return l=Math.max(r.length,l),p[r]=t,this},b.addLiteral=function(r,t){return h[r]=t,this},b.removeUnaryOp=function(r){return delete s[r],r.length===f&&(f=c(s)),this},b.removeAllUnaryOps=function(){return s={},f=0,this},b.removeBinaryOp=function(r){return delete p[r],r.length===l&&(l=c(p)),this},b.removeAllBinaryOps=function(){return p={},l=0,this},b.removeLiteral=function(r){return delete h[r],this},b.removeAllLiterals=function(){return h={},this},r.exports?t=r.exports=b:t.parse=b}()}},t={};function e(n){if(t[n])return t[n].exports;var o=t[n]={exports:{}};return r[n].call(o.exports,o,o.exports,e),o.exports}e.n=r=>{var t=r&&r.__esModule?()=>r.default:()=>r;return e.d(t,{a:t}),t},e.d=(r,t)=>{for(var n in t)e.o(t,n)&&!e.o(r,n)&&Object.defineProperty(r,n,{enumerable:!0,get:t[n]})},e.o=(r,t)=>Object.prototype.hasOwnProperty.call(r,t),(()=>{"use strict";var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,t){r.__proto__=t}||function(r,t){for(var e in t)t.hasOwnProperty(e)&&(r[e]=t[e])})(t,e)};function t(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var n=function(){return(n=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o]);return r}).apply(this,arguments)};function o(){for(var r=0,t=0,e=arguments.length;t<e;t++)r+=arguments[t].length;var n=Array(r),o=0;for(t=0;t<e;t++)for(var i=arguments[t],u=0,a=i.length;u<a;u++,o++)n[o]=i[u];return n}var i=function(r){if(null===r)return r;if(r instanceof Date)return new Date(r.getTime());if(r instanceof Array){var t=[];return r.forEach((function(r){t.push(r)})),t.map((function(r){return i(r)}))}if("object"==typeof r&&r!=={}){var e=n({},r);return Object.keys(e).forEach((function(r){e[r]=i(e[r])})),e}return r},u=e(962),a=e.n(u),s={"||":function(r,t){return r||t},"&&":function(r,t){return r&&t},"|":function(r,t){return r|t},"^":function(r,t){return r^t},"&":function(r,t){return r&t},"==":function(r,t){return r==t},"!=":function(r,t){return r!=t},"===":function(r,t){return r===t},"!==":function(r,t){return r!==t},"<":function(r,t){return r<t},">":function(r,t){return r>t},"<=":function(r,t){return r<=t},">=":function(r,t){return r>=t},"<<":function(r,t){return r<<t},">>":function(r,t){return r>>t},">>>":function(r,t){return r>>>t},"+":function(r,t){return r+t},"-":function(r,t){return r-t},"*":function(r,t){return r*t},"/":function(r,t){return r/t},"%":function(r,t){return r%t}},p={"-":function(r){return-r},"+":function(r){return+r},"~":function(r){return~r},"!":function(r){return!r}};function c(r,t){return r.map((function(r){return l(r,t)}))}function f(r,t){var e=l(r.object,t);return r.computed?[e,e[l(r.property,t)]]:[e,e[r.property.name]]}function l(r,t){switch(r.type){case"ArrayExpression":return c(r.elements,t);case"BinaryExpression":return s[r.operator](l(r.left,t),l(r.right,t));case"CallExpression":var e,n,o;if("MemberExpression"===r.callee.type?(e=(o=f(r.callee,t))[0],n=o[1]):n=l(r.callee,t),"function"!=typeof n)return;return n.apply(e,c(r.arguments,t));case"ConditionalExpression":return l(r.test,t)?l(r.consequent,t):l(r.alternate,t);case"Identifier":return t[r.name];case"Literal":return r.value;case"LogicalExpression":return"||"===r.operator?l(r.left,t)||l(r.right,t):"&&"===r.operator?l(r.left,t)&&l(r.right,t):s[r.operator](l(r.left,t),l(r.right,t));case"MemberExpression":return f(r,t)[1];case"ThisExpression":return t;case"UnaryExpression":return p[r.operator](l(r.argument,t));default:return}}var h=function(r,t,e){void 0===e&&(e=null),this.attributeName=r,this.alias=t||r,this.expression=e},y=function(){function r(r){this.fromArray=r}return r.prototype.getQueryArray=function(){return this.fromArray},r.prototype.select=function(r){var t=this;return void 0===r&&(r=null),r&&0!==r.length?("string"==typeof r[0]&&(r=r.map((function(r){return new h(r,r)}))),this.fromArray.map((function(e){for(var n={},o=0,i=r;o<i.length;o++){var u=i[o],s=u.alias&&u.alias.length>0?u.alias:u.attributeName;if(u.expression)try{var p=l(a()(u.expression),e);t.setAttribute(n,s,p)}catch(r){t.setAttribute(n,s,null)}else Object.prototype.hasOwnProperty.call(e,u.attributeName)?t.setAttribute(n,s,e[u.attributeName]):u.attributeName.includes(".")?t.setAttribute(n,s,u.attributeName.split(".").reduce((function(r,t){return r[t]}),e)):t.setAttribute(n,s,null)}return n}))):this.fromArray},r.prototype.setAttribute=function(r,t,e){return"string"==typeof t?this.setAttribute(r,t.split("."),e):1==t.length?r[t[0]]=e:0==t.length?r:(Object.prototype.hasOwnProperty.call(r,t[0])||(r[t[0]]={}),this.setAttribute(r[t[0]],t.slice(1),e))},r}(),g=function(r){function e(){return null!==r&&r.apply(this,arguments)||this}return t(e,r),e.prototype.orderBy=function(r,t){return void 0===t&&(t=!1),new e(t?this.getQueryArray().sort(r).reverse():this.getQueryArray().sort(r))},e.prototype.orderByAsc=function(r){var t="string"==typeof r?r:r.attributeName;return new e(o(this.getQueryArray()).sort((function(r,e){var n=null,o=null;return Object.prototype.hasOwnProperty.call(r,t)?n=r[t]:t.includes(".")&&(n=t.split(".").reduce((function(r,t){return r[t]}),r)),Object.prototype.hasOwnProperty.call(e,t)?o=r[t]:t.includes(".")&&(o=t.split(".").reduce((function(r,t){return r[t]}),e)),n&&o?n>o?1:-1:0})))},e.prototype.orderByDesc=function(r){return new e(this.orderByAsc(r).getQueryArray().reverse())},e.prototype.limit=function(r){return new e(this.getQueryArray().splice(0,r))},e.prototype.union=function(r){return new e(this.getQueryArray().concat(r))},e.prototype.count=function(){return this.getQueryArray().length},e.prototype.sum=function(r){for(var t="string"==typeof r?r:r.attributeName,e=0,n=0,o=this.getQueryArray();n<o.length;n++){var i=o[n],u=0;Object.prototype.hasOwnProperty.call(i,t)?u=i[t]:t.includes(".")&&(u=t.split(".").reduce((function(r,t){return r[t]}),i)),"number"==typeof u&&(e+=u)}return e},e.prototype.average=function(r){return this.sum(r)/this.getQueryArray().length},e}(y),v=function(r){function e(){return null!==r&&r.apply(this,arguments)||this}return t(e,r),e.prototype.join=function(r,t,n,o,u){void 0===u&&(u=!1);for(var a=[],s=0,p=this.getQueryArray();s<p.length;s++){for(var c=p[s],f=!1,l=0,h=r;l<h.length;l++){var y=h[l];if(c[n]===y[o]){f=!0;var g=i(c);for(var v in g[t]={},y)Object.prototype.hasOwnProperty.call(y,v)&&(g[t][v]=y[v]);a.push(g)}}u||f||((g=i(c))[t]=null,a.push(g))}return new e(a)},e.prototype.where=function(r){if(void 0===r&&(r=null),r&&r.length>0){for(var t=[],e=a()(r),n=0,o=this.getQueryArray();n<o.length;n++){var u=o[n];try{l(e,u)&&t.push(i(u))}catch(r){console.error(r)}}return new g(t)}return new g(this.getQueryArray())},e.prototype.whereFilter=function(r){return new g(this.getQueryArray().filter(r))},e}(y);!function(){function r(){}r.from=function(r){return new v(r)},r.parse=function(r,t,e,n){void 0===e&&(e=[]),void 0===n&&(n=[]);for(var i=o(e).reverse(),u=o(n).reverse(),a=r.replace(/from/gi,"&@*FROM").replace(/outer join/gi,"&@*OUTJN").replace(/inner join/gi,"&@*INJN").replace(/join/gi,"&@*JOIN").replace(/where/gi,"&@*WHERE").replace(/order by/gi,"&@*ORDRBY").replace(/limit/gi,"&@*LIMIT").replace(/union/gi,"&@*UNION").trim().split("&@*"),s=new v(t),p="",c=0,f=a;c<f.length;c++)if((N=f[c]).toUpperCase().startsWith("JOIN")||N.toUpperCase().startsWith("OUTJN")||N.toUpperCase().startsWith("INJN")){var l=i.pop();if(l){var y=N.split(new RegExp("ON","i"))[0].substring(4).trim(),g=N.split(new RegExp("ON","i"))[1].split("=")[0].trim(),d=N.split(new RegExp("ON","i"))[1].split("=")[1].trim();s=s.join(l,y,g,d,N.toUpperCase().startsWith("INJN"))}}else N.toUpperCase().startsWith("WHERE")&&(p=N.split(new RegExp("WHERE","i"))[1].trim());for(var m=s.where(p),b=0,x=a;b<x.length;b++)if((N=x[b]).toUpperCase().startsWith("LIMIT")){var w=N.split(new RegExp("LIMIT","i"))[1].trim();m=m.limit(parseInt(w))}else if(N.toUpperCase().startsWith("ORDRBY")){var E=N.split(" ")[2];m=N.toUpperCase().includes("ASC")?m.orderByAsc(E):m.orderByDesc(E)}else if(N.toUpperCase().startsWith("UNION")){var O=u.pop();O&&(m=m.union(O))}for(var A=[],C=0,U=a;C<U.length;C++){var N;if((N=U[C]).toUpperCase().startsWith("SELECT")&&"SELECT *"!==N.toUpperCase().trim()){for(var j=0,P=N.trim().substring(6).trim().split(",");j<P.length;j++){var I=P[j].split(new RegExp("as","i")),Q=(E=I[0].trim(),I.length>1?I[1].trim():E);E.startsWith("(")&&E.endsWith(")")?A.push(new h("expression",Q,E.substring(1,E.length-1))):A.push(new h(E,Q))}break}}return m.select(A)}}()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcnJheS1zcWxpenIvLi9ub2RlX21vZHVsZXMvanNlcC9idWlsZC9qc2VwLmpzIiwid2VicGFjazovL2FycmF5LXNxbGl6ci93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9hcnJheS1zcWxpenIvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vYXJyYXktc3FsaXpyL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9hcnJheS1zcWxpenIvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9hcnJheS1zcWxpenIvLi9ub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2LmpzIiwid2VicGFjazovL2FycmF5LXNxbGl6ci8uL2Rpc3Qvc3JjL2RlZXAtY29weS5qcyIsIndlYnBhY2s6Ly9hcnJheS1zcWxpenIvLi9ub2RlX21vZHVsZXMvZXhwcmVzc2lvbi1ldmFsL2Rpc3QvZXhwcmVzc2lvbi1ldmFsLm1vZHVsZS5qcyIsIndlYnBhY2s6Ly9hcnJheS1zcWxpenIvLi9kaXN0L3NyYy9xdWVyeS1hdHRyaWJ1dGUuanMiLCJ3ZWJwYWNrOi8vYXJyYXktc3FsaXpyLy4vZGlzdC9zcmMvcXVlcnkuanMiLCJ3ZWJwYWNrOi8vYXJyYXktc3FsaXpyLy4vZGlzdC9zcmMvd2hlcmUuanMiLCJ3ZWJwYWNrOi8vYXJyYXktc3FsaXpyLy4vZGlzdC9zcmMvZnJvbS5qcyIsIndlYnBhY2s6Ly9hcnJheS1zcWxpenIvLi9kaXN0L3NyYy9zcWxpenIuanMiXSwibmFtZXMiOlsicm9vdCIsIkNPTVBPVU5EIiwiTUVNQkVSX0VYUCIsIkxJVEVSQUwiLCJ0aHJvd0Vycm9yIiwibWVzc2FnZSIsImluZGV4IiwiZXJyb3IiLCJFcnJvciIsImRlc2NyaXB0aW9uIiwidCIsInVuYXJ5X29wcyIsImJpbmFyeV9vcHMiLCJnZXRNYXhLZXlMZW4iLCJvYmoiLCJsZW4iLCJtYXhfbGVuIiwia2V5IiwibGVuZ3RoIiwiaGFzT3duUHJvcGVydHkiLCJtYXhfdW5vcF9sZW4iLCJtYXhfYmlub3BfbGVuIiwibGl0ZXJhbHMiLCJiaW5hcnlQcmVjZWRlbmNlIiwib3BfdmFsIiwiY3JlYXRlQmluYXJ5RXhwcmVzc2lvbiIsIm9wZXJhdG9yIiwibGVmdCIsInJpZ2h0IiwidHlwZSIsImlzRGVjaW1hbERpZ2l0IiwiY2giLCJpc0lkZW50aWZpZXJTdGFydCIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsImlzSWRlbnRpZmllclBhcnQiLCJqc2VwIiwiZXhwciIsImNoX2kiLCJub2RlIiwiY2hhckF0RnVuYyIsImNoYXJBdCIsImNoYXJDb2RlQXRGdW5jIiwiY2hhckNvZGVBdCIsImV4cHJJIiwiaSIsImNhbGwiLCJleHBySUNvZGUiLCJnb2JibGVTcGFjZXMiLCJnb2JibGVFeHByZXNzaW9uIiwiY29uc2VxdWVudCIsImFsdGVybmF0ZSIsInRlc3QiLCJnb2JibGVCaW5hcnlFeHByZXNzaW9uIiwiZ29iYmxlQmluYXJ5T3AiLCJ0b19jaGVjayIsInN1YnN0ciIsInRjX2xlbiIsImJpb3AiLCJwcmVjIiwic3RhY2siLCJiaW9wX2luZm8iLCJjdXJfYmlvcCIsImdvYmJsZVRva2VuIiwidmFsdWUiLCJwb3AiLCJwdXNoIiwiZ29iYmxlTnVtZXJpY0xpdGVyYWwiLCJnb2JibGVTdHJpbmdMaXRlcmFsIiwiZ29iYmxlQXJyYXkiLCJhcmd1bWVudCIsInByZWZpeCIsImdvYmJsZVZhcmlhYmxlIiwiY2hDb2RlIiwibnVtYmVyIiwicGFyc2VGbG9hdCIsInJhdyIsInN0ciIsInF1b3RlIiwiY2xvc2VkIiwiZ29iYmxlSWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJzdGFydCIsInNsaWNlIiwibmFtZSIsImdvYmJsZUFyZ3VtZW50cyIsInRlcm1pbmF0aW9uIiwiYXJncyIsInNlcGFyYXRvcl9jb3VudCIsImFyZyIsImdvYmJsZUdyb3VwIiwiY29tcHV0ZWQiLCJvYmplY3QiLCJwcm9wZXJ0eSIsImNhbGxlZSIsImVsZW1lbnRzIiwibm9kZXMiLCJib2R5IiwidmVyc2lvbiIsInRvU3RyaW5nIiwiYWRkVW5hcnlPcCIsIm9wX25hbWUiLCJNYXRoIiwibWF4IiwidGhpcyIsImFkZEJpbmFyeU9wIiwicHJlY2VkZW5jZSIsImFkZExpdGVyYWwiLCJsaXRlcmFsX25hbWUiLCJsaXRlcmFsX3ZhbHVlIiwicmVtb3ZlVW5hcnlPcCIsInJlbW92ZUFsbFVuYXJ5T3BzIiwicmVtb3ZlQmluYXJ5T3AiLCJyZW1vdmVBbGxCaW5hcnlPcHMiLCJyZW1vdmVMaXRlcmFsIiwicmVtb3ZlQWxsTGl0ZXJhbHMiLCJtb2R1bGUiLCJleHBvcnRzIiwicGFyc2UiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwibiIsImdldHRlciIsIl9fZXNNb2R1bGUiLCJkIiwiYSIsImRlZmluaXRpb24iLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwicHJvcCIsInByb3RvdHlwZSIsImV4dGVuZFN0YXRpY3MiLCJiIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJBcnJheSIsInAiLCJfX2V4dGVuZHMiLCJfXyIsImNvbnN0cnVjdG9yIiwiY3JlYXRlIiwiX19hc3NpZ24iLCJhc3NpZ24iLCJzIiwiYXJndW1lbnRzIiwiYXBwbHkiLCJfX3NwcmVhZEFycmF5cyIsImlsIiwiciIsImsiLCJqIiwiamwiLCJkZWVwQ29weSIsInRhcmdldCIsIkRhdGUiLCJnZXRUaW1lIiwiY3BfMSIsImZvckVhY2giLCJ2IiwibWFwIiwiY3BfMiIsImtleXMiLCJlIiwidSIsImMiLCJRdWVyeUF0dHJpYnV0ZSIsImF0dHJpYnV0ZU5hbWUiLCJhbGlhcyIsImV4cHJlc3Npb24iLCJRdWVyeSIsImZyb20iLCJmcm9tQXJyYXkiLCJnZXRRdWVyeUFycmF5Iiwic2VsZWN0IiwiYXR0cmlidXRlcyIsIl90aGlzIiwiYXR0U3RyaW5nIiwiaXRlbSIsInNlbGVjdEl0ZW0iLCJfaSIsIl9hIiwicXVlcnlBdHRyaWJ1dGUiLCJyZXN1bHQiLCJzZXRBdHRyaWJ1dGUiLCJlcnIiLCJpbmNsdWRlcyIsInNwbGl0IiwicmVkdWNlIiwiaXMiLCJXaGVyZSIsIl9zdXBlciIsIm9yZGVyQnkiLCJjb21wYXJlRm4iLCJyZXZlcnNlIiwic29ydCIsIm9yZGVyQnlBc2MiLCJhdHRyaWJ1dGUiLCJhVmFsIiwiYlZhbCIsIm9yZGVyQnlEZXNjIiwibGltaXQiLCJzcGxpY2UiLCJ1bmlvbiIsInVuaW9uZWREYXRhIiwiY29uY2F0IiwiY291bnQiLCJzdW0iLCJ2YWwiLCJhdmVyYWdlIiwiRnJvbSIsImpvaW4iLCJmcm9tQXR0cmlidXRlTmFtZSIsImpvaW5BdHRyaWJ1dGVOYW1lIiwiaW5uZXJKb2luIiwiam9pbmVkQXJyYXkiLCJmb3VuZEpvaW4iLCJfYiIsImpvaW5fMSIsImpvaW5JdGVtIiwiam9pbmVkSXRlbSIsImF0dCIsIndoZXJlIiwicGFzc2VkIiwiYXN0IiwiY29uc29sZSIsIndoZXJlRmlsdGVyIiwicHJlZGljYXRlIiwiZmlsdGVyIiwiU1FMaXpyIiwiYXJyYXkiLCJxdWVyeSIsImpvaW5zIiwidW5pb25zIiwicmV2ZXJzZWRKb2lucyIsInJldmVyc2VkVW5pb25zIiwicGFydHMiLCJyZXBsYWNlIiwidHJpbSIsInF1ZXJ5RnJvbSIsIndoZXJlQ2xhdXNlIiwicGFydHNfMSIsInBhcnQiLCJ0b1VwcGVyQ2FzZSIsInN0YXJ0c1dpdGgiLCJqb2luQXJyYXkiLCJSZWdFeHAiLCJzdWJzdHJpbmciLCJmcm9tQXR0cmlidXRlIiwiam9pbkF0dHJpYnV0ZSIsInBhcnRzXzIiLCJwYXJzZUludCIsInBhcnRzXzMiLCJfYyIsImNsYXVzZXNfMSIsImF0dHJpYnV0ZUFsaWFzZXMiLCJlbmRzV2l0aCJdLCJtYXBwaW5ncyI6IjtnQ0FLQyxTQUFVQSxHQUNWLGFBTUEsSUFBSUMsRUFB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QUcsT0FBT2MsRUFBRWQsR0FBRyxJQUFJLFNBQVNjLEVBQUVkLEdBQUcsT0FBT2MsRUFBRWQsR0FBRyxJQUFJLFNBQVNjLEVBQUVkLEdBQUcsT0FBT2MsRUFBRWQsR0FBRyxLQUFLLFNBQVNjLEVBQUVkLEdBQUcsT0FBT2MsR0FBR2QsR0FBRyxLQUFLLFNBQVNjLEVBQUVkLEdBQUcsT0FBT2MsR0FBR2QsR0FBRyxNQUFNLFNBQVNjLEVBQUVkLEdBQUcsT0FBT2MsSUFBSWQsR0FBRyxNQUFNLFNBQVNjLEVBQUVkLEdBQUcsT0FBT2MsSUFBSWQsR0FBRyxJQUFJLFNBQVNjLEVBQUVkLEdBQUcsT0FBT2MsRUFBRWQsR0FBRyxJQUFJLFNBQVNjLEVBQUVkLEdBQUcsT0FBT2MsRUFBRWQsR0FBRyxLQUFLLFNBQVNjLEVBQUVkLEdBQUcsT0FBT2MsR0FBR2QsR0FBRyxLQUFLLFNBQVNjLEVBQUVkLEdBQUcsT0FBT2MsR0FBR2QsR0FBRyxLQUFLLFNBQVNjLEVBQUVkLEdBQUcsT0FBT2MsR0FBR2QsR0FBRyxLQUFLLFNBQVNjLEVBQUVkLEdBQUcsT0FBT2MsR0FBR2QsR0FBRyxNQUFNLFNBQVNjLEVBQUVkLEdBQUcsT0FBT2MsSUFBSWQsR0FBRyxJQUFJLFNBQVNjLEVBQUVkLEdBQUcsT0FBT2MsRUFBRWQsR0FBRyxJQUFJLFNBQVNjLEVBQUVkLEdBQUcsT0FBT2MsRUFBRWQsR0FBRyxJQUFJLFNBQVNjLEVBQUVkLEdBQUcsT0FBT2MsRUFBRWQsR0FBRyxJQUFJLFNBQVNjLEVBQUVkLEdBQUcsT0FBT2MsRUFBRWQsR0FBRyxJQUFJLFNBQVNjLEVBQUVkLEdBQUcsT0FBT2MsRUFBRWQsSUFBSWUsRUFBRSxDQUFDLElBQUksU0FBU0QsR0FBRyxPQUFPQSxHQUFHLElBQUksU0FBU0EsR0FBRyxPQUFPQSxHQUFHLElBQUksU0FBU0EsR0FBRyxPQUFPQSxHQUFHLElBQUksU0FBU0EsR0FBRyxPQUFPQSxJQUFJLFNBQVMxSCxFQUFFMEgsRUFBRWQsR0FBRyxPQUFPYyxFQUFFSCxLQUFJLFNBQVNHLEdBQUcsT0FBT0Us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QUFPaEgsS0FBSyxJQUFJd0csRUFBZSxhQUFjRSxFQUFPNkIsRUFBVWtELFVBQVUsRUFBR2xELEVBQVV2TCxPQUFTLEtBRzlGZ0ssRUFBT2hILEtBQUssSUFBSXdHLEVBQWUrQixFQUFXN0IsSUFHbEQsT0FJUixPQUFPc0QsRUFBTWhELE9BQU9BLElBbkdELEkiLCJmaWxlIjoiYXJyYXktc3FsaXpyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gICAgIEphdmFTY3JpcHQgRXhwcmVzc2lvbiBQYXJzZXIgKEpTRVApIDAuMy41XG4vLyAgICAgSlNFUCBtYXkgYmUgZnJlZWx5IGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBNSVQgTGljZW5zZVxuLy8gICAgIGh0dHBzOi8vZXJpY3NtZWtlbnMuZ2l0aHViLmlvL2pzZXAvXG5cbi8qZ2xvYmFsIG1vZHVsZTogdHJ1ZSwgZXhwb3J0czogdHJ1ZSwgY29uc29sZTogdHJ1ZSAqL1xuKGZ1bmN0aW9uIChyb290KSB7XG5cdCd1c2Ugc3RyaWN0Jztcblx0Ly8gTm9kZSBUeXBlc1xuXHQvLyAtLS0tLS0tLS0tXG5cblx0Ly8gVGhpcyBpcyB0aGUgZnVsbCBzZXQgb2YgdHlwZXMgdGhhdCBhbnkgSlNFUCBub2RlIGNhbiBiZS5cblx0Ly8gU3RvcmUgdGhlbSBoZXJlIHRvIHNhdmUgc3BhY2Ugd2hlbiBtaW5pZmllZFxuXHR2YXIgQ09NUE9VTkQgPSAnQ29tcG91bmQnLFxuXHRcdElERU5USUZJRVIgPSAnSWRlbnRpZmllcicsXG5cdFx0TUVNQkVSX0VYUCA9ICdNZW1iZXJFeHByZXNzaW9uJyxcblx0XHRMSVRFUkFMID0gJ0xpdGVyYWwnLFxuXHRcdFRISVNfRVhQID0gJ1RoaXNFeHByZXNzaW9uJyxcblx0XHRDQUxMX0VYUCA9ICdDYWxsRXhwcmVzc2lvbicsXG5cdFx0VU5BUllfRVhQID0gJ1VuYXJ5RXhwcmVzc2lvbicsXG5cdFx0QklOQVJZX0VYUCA9ICdCaW5hcnlFeHByZXNzaW9uJyxcblx0XHRMT0dJQ0FMX0VYUCA9ICdMb2dpY2FsRXhwcmVzc2lvbicsXG5cdFx0Q09ORElUSU9OQUxfRVhQID0gJ0NvbmRpdGlvbmFsRXhwcmVzc2lvbicsXG5cdFx0QVJSQVlfRVhQID0gJ0FycmF5RXhwcmVzc2lvbicsXG5cblx0XHRQRVJJT0RfQ09ERSA9IDQ2LCAvLyAnLidcblx0XHRDT01NQV9DT0RFICA9IDQ0LCAvLyAnLCdcblx0XHRTUVVPVEVfQ09ERSA9IDM5LCAvLyBzaW5nbGUgcXVvdGVcblx0XHREUVVPVEVfQ09ERSA9IDM0LCAvLyBkb3VibGUgcXVvdGVzXG5cdFx0T1BBUkVOX0NPREUgPSA0MCwgLy8gKFxuXHRcdENQQVJFTl9DT0RFID0gNDEsIC8vIClcblx0XHRPQlJBQ0tfQ09ERSA9IDkxLCAvLyBbXG5cdFx0Q0JSQUNLX0NPREUgPSA5MywgLy8gXVxuXHRcdFFVTUFSS19DT0RFID0gNjMsIC8vID9cblx0XHRTRU1DT0xfQ09ERSA9IDU5LCAvLyA7XG5cdFx0Q09MT05fQ09ERSAgPSA1OCwgLy8gOlxuXG5cdFx0dGhyb3dFcnJvciA9IGZ1bmN0aW9uKG1lc3NhZ2UsIGluZGV4KSB7XG5cdFx0XHR2YXIgZXJyb3IgPSBuZXcgRXJyb3IobWVzc2FnZSArICcgYXQgY2hhcmFjdGVyICcgKyBpbmRleCk7XG5cdFx0XHRlcnJvci5pbmRleCA9IGluZGV4O1xuXHRcdFx0ZXJyb3IuZGVzY3JpcHRpb24gPSBtZXNzYWdlO1xuXHRcdFx0dGhyb3cgZXJyb3I7XG5cdFx0fSxcblxuXHQvLyBPcGVyYXRpb25zXG5cdC8vIC0tLS0tLS0tLS1cblxuXHQvLyBTZXQgYHRgIHRvIGB0cnVlYCB0byBzYXZlIHNwYWNlICh3aGVuIG1pbmlmaWVkLCBub3QgZ3ppcHBlZClcblx0XHR0ID0gdHJ1ZSxcblx0Ly8gVXNlIGEgcXVpY2tseS1hY2Nlc3NpYmxlIG1hcCB0byBzdG9yZSBhbGwgb2YgdGhlIHVuYXJ5IG9wZXJhdG9yc1xuXHQvLyBWYWx1ZXMgYXJlIHNldCB0byBgdHJ1ZWAgKGl0IHJlYWxseSBkb2Vzbid0IG1hdHRlcilcblx0XHR1bmFyeV9vcHMgPSB7Jy0nOiB0LCAnISc6IHQsICd+JzogdCwgJysnOiB0fSxcblx0Ly8gQWxzbyB1c2UgYSBtYXAgZm9yIHRoZSBiaW5hcnkgb3BlcmF0aW9ucyBidXQgc2V0IHRoZWlyIHZhbHVlcyB0byB0aGVpclxuXHQvLyBiaW5hcnkgcHJlY2VkZW5jZSBmb3IgcXVpY2sgcmVmZXJlbmNlOlxuXHQvLyBzZWUgW09yZGVyIG9mIG9wZXJhdGlvbnNdKGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvT3JkZXJfb2Zfb3BlcmF0aW9ucyNQcm9ncmFtbWluZ19sYW5ndWFnZSlcblx0XHRiaW5hcnlfb3BzID0ge1xuXHRcdFx0J3x8JzogMSwgJyYmJzogMiwgJ3wnOiAzLCAgJ14nOiA0LCAgJyYnOiA1LFxuXHRcdFx0Jz09JzogNiwgJyE9JzogNiwgJz09PSc6IDYsICchPT0nOiA2LFxuXHRcdFx0JzwnOiA3LCAgJz4nOiA3LCAgJzw9JzogNywgICc+PSc6IDcsXG5cdFx0XHQnPDwnOjgsICAnPj4nOiA4LCAnPj4+JzogOCxcblx0XHRcdCcrJzogOSwgJy0nOiA5LFxuXHRcdFx0JyonOiAxMCwgJy8nOiAxMCwgJyUnOiAxMFxuXHRcdH0sXG5cdC8vIEdldCByZXR1cm4gdGhlIGxvbmdlc3Qga2V5IGxlbmd0aCBvZiBhbnkgb2JqZWN0XG5cdFx0Z2V0TWF4S2V5TGVuID0gZnVuY3Rpb24ob2JqKSB7XG5cdFx0XHR2YXIgbWF4X2xlbiA9IDAsIGxlbjtcblx0XHRcdGZvcih2YXIga2V5IGluIG9iaikge1xuXHRcdFx0XHRpZigobGVuID0ga2V5Lmxlbmd0aCkgPiBtYXhfbGVuICYmIG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG5cdFx0XHRcdFx0bWF4X2xlbiA9IGxlbjtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG1heF9sZW47XG5cdFx0fSxcblx0XHRtYXhfdW5vcF9sZW4gPSBnZXRNYXhLZXlMZW4odW5hcnlfb3BzKSxcblx0XHRtYXhfYmlub3BfbGVuID0gZ2V0TWF4S2V5TGVuKGJpbmFyeV9vcHMpLFxuXHQvLyBMaXRlcmFsc1xuXHQvLyAtLS0tLS0tLS0tXG5cdC8vIFN0b3JlIHRoZSB2YWx1ZXMgdG8gcmV0dXJuIGZvciB0aGUgdmFyaW91cyBsaXRlcmFscyB3ZSBtYXkgZW5jb3VudGVyXG5cdFx0bGl0ZXJhbHMgPSB7XG5cdFx0XHQndHJ1ZSc6IHRydWUsXG5cdFx0XHQnZmFsc2UnOiBmYWxzZSxcblx0XHRcdCdudWxsJzogbnVsbFxuXHRcdH0sXG5cdC8vIEV4Y2VwdCBmb3IgYHRoaXNgLCB3aGljaCBpcyBzcGVjaWFsLiBUaGlzIGNvdWxkIGJlIGNoYW5nZWQgdG8gc29tZXRoaW5nIGxpa2UgYCdzZWxmJ2AgYXMgd2VsbFxuXHRcdHRoaXNfc3RyID0gJ3RoaXMnLFxuXHQvLyBSZXR1cm5zIHRoZSBwcmVjZWRlbmNlIG9mIGEgYmluYXJ5IG9wZXJhdG9yIG9yIGAwYCBpZiBpdCBpc24ndCBhIGJpbmFyeSBvcGVyYXRvclxuXHRcdGJpbmFyeVByZWNlZGVuY2UgPSBmdW5jdGlvbihvcF92YWwpIHtcblx0XHRcdHJldHVybiBiaW5hcnlfb3BzW29wX3ZhbF0gfHwgMDtcblx0XHR9LFxuXHQvLyBVdGlsaXR5IGZ1bmN0aW9uIChnZXRzIGNhbGxlZCBmcm9tIG11bHRpcGxlIHBsYWNlcylcblx0Ly8gQWxzbyBub3RlIHRoYXQgYGEgJiYgYmAgYW5kIGBhIHx8IGJgIGFyZSAqbG9naWNhbCogZXhwcmVzc2lvbnMsIG5vdCBiaW5hcnkgZXhwcmVzc2lvbnNcblx0XHRjcmVhdGVCaW5hcnlFeHByZXNzaW9uID0gZnVuY3Rpb24gKG9wZXJhdG9yLCBsZWZ0LCByaWdodCkge1xuXHRcdFx0dmFyIHR5cGUgPSAob3BlcmF0b3IgPT09ICd8fCcgfHwgb3BlcmF0b3IgPT09ICcmJicpID8gTE9HSUNBTF9FWFAgOiBCSU5BUllfRVhQO1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0dHlwZTogdHlwZSxcblx0XHRcdFx0b3BlcmF0b3I6IG9wZXJhdG9yLFxuXHRcdFx0XHRsZWZ0OiBsZWZ0LFxuXHRcdFx0XHRyaWdodDogcmlnaHRcblx0XHRcdH07XG5cdFx0fSxcblx0XHQvLyBgY2hgIGlzIGEgY2hhcmFjdGVyIGNvZGUgaW4gdGhlIG5leHQgdGhyZWUgZnVuY3Rpb25zXG5cdFx0aXNEZWNpbWFsRGlnaXQgPSBmdW5jdGlvbihjaCkge1xuXHRcdFx0cmV0dXJuIChjaCA+PSA0OCAmJiBjaCA8PSA1Nyk7IC8vIDAuLi45XG5cdFx0fSxcblx0XHRpc0lkZW50aWZpZXJTdGFydCA9IGZ1bmN0aW9uKGNoKSB7XG5cdFx0XHRyZXR1cm4gKGNoID09PSAzNikgfHwgKGNoID09PSA5NSkgfHwgLy8gYCRgIGFuZCBgX2Bcblx0XHRcdFx0XHQoY2ggPj0gNjUgJiYgY2ggPD0gOTApIHx8IC8vIEEuLi5aXG5cdFx0XHRcdFx0KGNoID49IDk3ICYmIGNoIDw9IDEyMikgfHwgLy8gYS4uLnpcbiAgICAgICAgICAgICAgICAgICAgKGNoID49IDEyOCAmJiAhYmluYXJ5X29wc1tTdHJpbmcuZnJvbUNoYXJDb2RlKGNoKV0pOyAvLyBhbnkgbm9uLUFTQ0lJIHRoYXQgaXMgbm90IGFuIG9wZXJhdG9yXG5cdFx0fSxcblx0XHRpc0lkZW50aWZpZXJQYXJ0ID0gZnVuY3Rpb24oY2gpIHtcblx0XHRcdHJldHVybiAoY2ggPT09IDM2KSB8fCAoY2ggPT09IDk1KSB8fCAvLyBgJGAgYW5kIGBfYFxuXHRcdFx0XHRcdChjaCA+PSA2NSAmJiBjaCA8PSA5MCkgfHwgLy8gQS4uLlpcblx0XHRcdFx0XHQoY2ggPj0gOTcgJiYgY2ggPD0gMTIyKSB8fCAvLyBhLi4uelxuXHRcdFx0XHRcdChjaCA+PSA0OCAmJiBjaCA8PSA1NykgfHwgLy8gMC4uLjlcbiAgICAgICAgICAgICAgICAgICAgKGNoID49IDEyOCAmJiAhYmluYXJ5X29wc1tTdHJpbmcuZnJvbUNoYXJDb2RlKGNoKV0pOyAvLyBhbnkgbm9uLUFTQ0lJIHRoYXQgaXMgbm90IGFuIG9wZXJhdG9yXG5cdFx0fSxcblxuXHRcdC8vIFBhcnNpbmdcblx0XHQvLyAtLS0tLS0tXG5cdFx0Ly8gYGV4cHJgIGlzIGEgc3RyaW5nIHdpdGggdGhlIHBhc3NlZCBpbiBleHByZXNzaW9uXG5cdFx0anNlcCA9IGZ1bmN0aW9uKGV4cHIpIHtcblx0XHRcdC8vIGBpbmRleGAgc3RvcmVzIHRoZSBjaGFyYWN0ZXIgbnVtYmVyIHdlIGFyZSBjdXJyZW50bHkgYXQgd2hpbGUgYGxlbmd0aGAgaXMgYSBjb25zdGFudFxuXHRcdFx0Ly8gQWxsIG9mIHRoZSBnb2JibGVzIGJlbG93IHdpbGwgbW9kaWZ5IGBpbmRleGAgYXMgd2UgbW92ZSBhbG9uZ1xuXHRcdFx0dmFyIGluZGV4ID0gMCxcblx0XHRcdFx0Y2hhckF0RnVuYyA9IGV4cHIuY2hhckF0LFxuXHRcdFx0XHRjaGFyQ29kZUF0RnVuYyA9IGV4cHIuY2hhckNvZGVBdCxcblx0XHRcdFx0ZXhwckkgPSBmdW5jdGlvbihpKSB7IHJldHVybiBjaGFyQXRGdW5jLmNhbGwoZXhwciwgaSk7IH0sXG5cdFx0XHRcdGV4cHJJQ29kZSA9IGZ1bmN0aW9uKGkpIHsgcmV0dXJuIGNoYXJDb2RlQXRGdW5jLmNhbGwoZXhwciwgaSk7IH0sXG5cdFx0XHRcdGxlbmd0aCA9IGV4cHIubGVuZ3RoLFxuXG5cdFx0XHRcdC8vIFB1c2ggYGluZGV4YCB1cCB0byB0aGUgbmV4dCBub24tc3BhY2UgY2hhcmFjdGVyXG5cdFx0XHRcdGdvYmJsZVNwYWNlcyA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHZhciBjaCA9IGV4cHJJQ29kZShpbmRleCk7XG5cdFx0XHRcdFx0Ly8gc3BhY2Ugb3IgdGFiXG5cdFx0XHRcdFx0d2hpbGUoY2ggPT09IDMyIHx8IGNoID09PSA5IHx8IGNoID09PSAxMCB8fCBjaCA9PT0gMTMpIHtcblx0XHRcdFx0XHRcdGNoID0gZXhwcklDb2RlKCsraW5kZXgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBUaGUgbWFpbiBwYXJzaW5nIGZ1bmN0aW9uLiBNdWNoIG9mIHRoaXMgY29kZSBpcyBkZWRpY2F0ZWQgdG8gdGVybmFyeSBleHByZXNzaW9uc1xuXHRcdFx0XHRnb2JibGVFeHByZXNzaW9uID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0dmFyIHRlc3QgPSBnb2JibGVCaW5hcnlFeHByZXNzaW9uKCksXG5cdFx0XHRcdFx0XHRjb25zZXF1ZW50LCBhbHRlcm5hdGU7XG5cdFx0XHRcdFx0Z29iYmxlU3BhY2VzKCk7XG5cdFx0XHRcdFx0aWYoZXhwcklDb2RlKGluZGV4KSA9PT0gUVVNQVJLX0NPREUpIHtcblx0XHRcdFx0XHRcdC8vIFRlcm5hcnkgZXhwcmVzc2lvbjogdGVzdCA/IGNvbnNlcXVlbnQgOiBhbHRlcm5hdGVcblx0XHRcdFx0XHRcdGluZGV4Kys7XG5cdFx0XHRcdFx0XHRjb25zZXF1ZW50ID0gZ29iYmxlRXhwcmVzc2lvbigpO1xuXHRcdFx0XHRcdFx0aWYoIWNvbnNlcXVlbnQpIHtcblx0XHRcdFx0XHRcdFx0dGhyb3dFcnJvcignRXhwZWN0ZWQgZXhwcmVzc2lvbicsIGluZGV4KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGdvYmJsZVNwYWNlcygpO1xuXHRcdFx0XHRcdFx0aWYoZXhwcklDb2RlKGluZGV4KSA9PT0gQ09MT05fQ09ERSkge1xuXHRcdFx0XHRcdFx0XHRpbmRleCsrO1xuXHRcdFx0XHRcdFx0XHRhbHRlcm5hdGUgPSBnb2JibGVFeHByZXNzaW9uKCk7XG5cdFx0XHRcdFx0XHRcdGlmKCFhbHRlcm5hdGUpIHtcblx0XHRcdFx0XHRcdFx0XHR0aHJvd0Vycm9yKCdFeHBlY3RlZCBleHByZXNzaW9uJywgaW5kZXgpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRcdFx0dHlwZTogQ09ORElUSU9OQUxfRVhQLFxuXHRcdFx0XHRcdFx0XHRcdHRlc3Q6IHRlc3QsXG5cdFx0XHRcdFx0XHRcdFx0Y29uc2VxdWVudDogY29uc2VxdWVudCxcblx0XHRcdFx0XHRcdFx0XHRhbHRlcm5hdGU6IGFsdGVybmF0ZVxuXHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0dGhyb3dFcnJvcignRXhwZWN0ZWQgOicsIGluZGV4KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHRlc3Q7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdC8vIFNlYXJjaCBmb3IgdGhlIG9wZXJhdGlvbiBwb3J0aW9uIG9mIHRoZSBzdHJpbmcgKGUuZy4gYCtgLCBgPT09YClcblx0XHRcdFx0Ly8gU3RhcnQgYnkgdGFraW5nIHRoZSBsb25nZXN0IHBvc3NpYmxlIGJpbmFyeSBvcGVyYXRpb25zICgzIGNoYXJhY3RlcnM6IGA9PT1gLCBgIT09YCwgYD4+PmApXG5cdFx0XHRcdC8vIGFuZCBtb3ZlIGRvd24gZnJvbSAzIHRvIDIgdG8gMSBjaGFyYWN0ZXIgdW50aWwgYSBtYXRjaGluZyBiaW5hcnkgb3BlcmF0aW9uIGlzIGZvdW5kXG5cdFx0XHRcdC8vIHRoZW4sIHJldHVybiB0aGF0IGJpbmFyeSBvcGVyYXRpb25cblx0XHRcdFx0Z29iYmxlQmluYXJ5T3AgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRnb2JibGVTcGFjZXMoKTtcblx0XHRcdFx0XHR2YXIgYmlvcCwgdG9fY2hlY2sgPSBleHByLnN1YnN0cihpbmRleCwgbWF4X2Jpbm9wX2xlbiksIHRjX2xlbiA9IHRvX2NoZWNrLmxlbmd0aDtcblx0XHRcdFx0XHR3aGlsZSh0Y19sZW4gPiAwKSB7XG5cdFx0XHRcdFx0XHQvLyBEb24ndCBhY2NlcHQgYSBiaW5hcnkgb3Agd2hlbiBpdCBpcyBhbiBpZGVudGlmaWVyLlxuXHRcdFx0XHRcdFx0Ly8gQmluYXJ5IG9wcyB0aGF0IHN0YXJ0IHdpdGggYSBpZGVudGlmaWVyLXZhbGlkIGNoYXJhY3RlciBtdXN0IGJlIGZvbGxvd2VkXG5cdFx0XHRcdFx0XHQvLyBieSBhIG5vbiBpZGVudGlmaWVyLXBhcnQgdmFsaWQgY2hhcmFjdGVyXG5cdFx0XHRcdFx0XHRpZihiaW5hcnlfb3BzLmhhc093blByb3BlcnR5KHRvX2NoZWNrKSAmJiAoXG5cdFx0XHRcdFx0XHRcdCFpc0lkZW50aWZpZXJTdGFydChleHBySUNvZGUoaW5kZXgpKSB8fFxuXHRcdFx0XHRcdFx0XHQoaW5kZXgrdG9fY2hlY2subGVuZ3RoPCBleHByLmxlbmd0aCAmJiAhaXNJZGVudGlmaWVyUGFydChleHBySUNvZGUoaW5kZXgrdG9fY2hlY2subGVuZ3RoKSkpXG5cdFx0XHRcdFx0XHQpKSB7XG5cdFx0XHRcdFx0XHRcdGluZGV4ICs9IHRjX2xlbjtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHRvX2NoZWNrO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0dG9fY2hlY2sgPSB0b19jaGVjay5zdWJzdHIoMCwgLS10Y19sZW4pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gVGhpcyBmdW5jdGlvbiBpcyByZXNwb25zaWJsZSBmb3IgZ29iYmxpbmcgYW4gaW5kaXZpZHVhbCBleHByZXNzaW9uLFxuXHRcdFx0XHQvLyBlLmcuIGAxYCwgYDErMmAsIGBhKyhiKjIpLU1hdGguc3FydCgyKWBcblx0XHRcdFx0Z29iYmxlQmluYXJ5RXhwcmVzc2lvbiA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHZhciBjaF9pLCBub2RlLCBiaW9wLCBwcmVjLCBzdGFjaywgYmlvcF9pbmZvLCBsZWZ0LCByaWdodCwgaSwgY3VyX2Jpb3A7XG5cblx0XHRcdFx0XHQvLyBGaXJzdCwgdHJ5IHRvIGdldCB0aGUgbGVmdG1vc3QgdGhpbmdcblx0XHRcdFx0XHQvLyBUaGVuLCBjaGVjayB0byBzZWUgaWYgdGhlcmUncyBhIGJpbmFyeSBvcGVyYXRvciBvcGVyYXRpbmcgb24gdGhhdCBsZWZ0bW9zdCB0aGluZ1xuXHRcdFx0XHRcdGxlZnQgPSBnb2JibGVUb2tlbigpO1xuXHRcdFx0XHRcdGJpb3AgPSBnb2JibGVCaW5hcnlPcCgpO1xuXG5cdFx0XHRcdFx0Ly8gSWYgdGhlcmUgd2Fzbid0IGEgYmluYXJ5IG9wZXJhdG9yLCBqdXN0IHJldHVybiB0aGUgbGVmdG1vc3Qgbm9kZVxuXHRcdFx0XHRcdGlmKCFiaW9wKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gbGVmdDtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQvLyBPdGhlcndpc2UsIHdlIG5lZWQgdG8gc3RhcnQgYSBzdGFjayB0byBwcm9wZXJseSBwbGFjZSB0aGUgYmluYXJ5IG9wZXJhdGlvbnMgaW4gdGhlaXJcblx0XHRcdFx0XHQvLyBwcmVjZWRlbmNlIHN0cnVjdHVyZVxuXHRcdFx0XHRcdGJpb3BfaW5mbyA9IHsgdmFsdWU6IGJpb3AsIHByZWM6IGJpbmFyeVByZWNlZGVuY2UoYmlvcCl9O1xuXG5cdFx0XHRcdFx0cmlnaHQgPSBnb2JibGVUb2tlbigpO1xuXHRcdFx0XHRcdGlmKCFyaWdodCkge1xuXHRcdFx0XHRcdFx0dGhyb3dFcnJvcihcIkV4cGVjdGVkIGV4cHJlc3Npb24gYWZ0ZXIgXCIgKyBiaW9wLCBpbmRleCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHN0YWNrID0gW2xlZnQsIGJpb3BfaW5mbywgcmlnaHRdO1xuXG5cdFx0XHRcdFx0Ly8gUHJvcGVybHkgZGVhbCB3aXRoIHByZWNlZGVuY2UgdXNpbmcgW3JlY3Vyc2l2ZSBkZXNjZW50XShodHRwOi8vd3d3LmVuZ3IubXVuLmNhL350aGVvL01pc2MvZXhwX3BhcnNpbmcuaHRtKVxuXHRcdFx0XHRcdHdoaWxlKChiaW9wID0gZ29iYmxlQmluYXJ5T3AoKSkpIHtcblx0XHRcdFx0XHRcdHByZWMgPSBiaW5hcnlQcmVjZWRlbmNlKGJpb3ApO1xuXG5cdFx0XHRcdFx0XHRpZihwcmVjID09PSAwKSB7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0YmlvcF9pbmZvID0geyB2YWx1ZTogYmlvcCwgcHJlYzogcHJlYyB9O1xuXG5cdFx0XHRcdFx0XHRjdXJfYmlvcCA9IGJpb3A7XG5cdFx0XHRcdFx0XHQvLyBSZWR1Y2U6IG1ha2UgYSBiaW5hcnkgZXhwcmVzc2lvbiBmcm9tIHRoZSB0aHJlZSB0b3Btb3N0IGVudHJpZXMuXG5cdFx0XHRcdFx0XHR3aGlsZSAoKHN0YWNrLmxlbmd0aCA+IDIpICYmIChwcmVjIDw9IHN0YWNrW3N0YWNrLmxlbmd0aCAtIDJdLnByZWMpKSB7XG5cdFx0XHRcdFx0XHRcdHJpZ2h0ID0gc3RhY2sucG9wKCk7XG5cdFx0XHRcdFx0XHRcdGJpb3AgPSBzdGFjay5wb3AoKS52YWx1ZTtcblx0XHRcdFx0XHRcdFx0bGVmdCA9IHN0YWNrLnBvcCgpO1xuXHRcdFx0XHRcdFx0XHRub2RlID0gY3JlYXRlQmluYXJ5RXhwcmVzc2lvbihiaW9wLCBsZWZ0LCByaWdodCk7XG5cdFx0XHRcdFx0XHRcdHN0YWNrLnB1c2gobm9kZSk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdG5vZGUgPSBnb2JibGVUb2tlbigpO1xuXHRcdFx0XHRcdFx0aWYoIW5vZGUpIHtcblx0XHRcdFx0XHRcdFx0dGhyb3dFcnJvcihcIkV4cGVjdGVkIGV4cHJlc3Npb24gYWZ0ZXIgXCIgKyBjdXJfYmlvcCwgaW5kZXgpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0c3RhY2sucHVzaChiaW9wX2luZm8sIG5vZGUpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGkgPSBzdGFjay5sZW5ndGggLSAxO1xuXHRcdFx0XHRcdG5vZGUgPSBzdGFja1tpXTtcblx0XHRcdFx0XHR3aGlsZShpID4gMSkge1xuXHRcdFx0XHRcdFx0bm9kZSA9IGNyZWF0ZUJpbmFyeUV4cHJlc3Npb24oc3RhY2tbaSAtIDFdLnZhbHVlLCBzdGFja1tpIC0gMl0sIG5vZGUpO1xuXHRcdFx0XHRcdFx0aSAtPSAyO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gbm9kZTtcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBBbiBpbmRpdmlkdWFsIHBhcnQgb2YgYSBiaW5hcnkgZXhwcmVzc2lvbjpcblx0XHRcdFx0Ly8gZS5nLiBgZm9vLmJhcihiYXopYCwgYDFgLCBgXCJhYmNcImAsIGAoYSAlIDIpYCAoYmVjYXVzZSBpdCdzIGluIHBhcmVudGhlc2lzKVxuXHRcdFx0XHRnb2JibGVUb2tlbiA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHZhciBjaCwgdG9fY2hlY2ssIHRjX2xlbjtcblxuXHRcdFx0XHRcdGdvYmJsZVNwYWNlcygpO1xuXHRcdFx0XHRcdGNoID0gZXhwcklDb2RlKGluZGV4KTtcblxuXHRcdFx0XHRcdGlmKGlzRGVjaW1hbERpZ2l0KGNoKSB8fCBjaCA9PT0gUEVSSU9EX0NPREUpIHtcblx0XHRcdFx0XHRcdC8vIENoYXIgY29kZSA0NiBpcyBhIGRvdCBgLmAgd2hpY2ggY2FuIHN0YXJ0IG9mZiBhIG51bWVyaWMgbGl0ZXJhbFxuXHRcdFx0XHRcdFx0cmV0dXJuIGdvYmJsZU51bWVyaWNMaXRlcmFsKCk7XG5cdFx0XHRcdFx0fSBlbHNlIGlmKGNoID09PSBTUVVPVEVfQ09ERSB8fCBjaCA9PT0gRFFVT1RFX0NPREUpIHtcblx0XHRcdFx0XHRcdC8vIFNpbmdsZSBvciBkb3VibGUgcXVvdGVzXG5cdFx0XHRcdFx0XHRyZXR1cm4gZ29iYmxlU3RyaW5nTGl0ZXJhbCgpO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAoY2ggPT09IE9CUkFDS19DT0RFKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZ29iYmxlQXJyYXkoKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0dG9fY2hlY2sgPSBleHByLnN1YnN0cihpbmRleCwgbWF4X3Vub3BfbGVuKTtcblx0XHRcdFx0XHRcdHRjX2xlbiA9IHRvX2NoZWNrLmxlbmd0aDtcblx0XHRcdFx0XHRcdHdoaWxlKHRjX2xlbiA+IDApIHtcblx0XHRcdFx0XHRcdC8vIERvbid0IGFjY2VwdCBhbiB1bmFyeSBvcCB3aGVuIGl0IGlzIGFuIGlkZW50aWZpZXIuXG5cdFx0XHRcdFx0XHQvLyBVbmFyeSBvcHMgdGhhdCBzdGFydCB3aXRoIGEgaWRlbnRpZmllci12YWxpZCBjaGFyYWN0ZXIgbXVzdCBiZSBmb2xsb3dlZFxuXHRcdFx0XHRcdFx0Ly8gYnkgYSBub24gaWRlbnRpZmllci1wYXJ0IHZhbGlkIGNoYXJhY3RlclxuXHRcdFx0XHRcdFx0XHRpZih1bmFyeV9vcHMuaGFzT3duUHJvcGVydHkodG9fY2hlY2spICYmIChcblx0XHRcdFx0XHRcdFx0XHQhaXNJZGVudGlmaWVyU3RhcnQoZXhwcklDb2RlKGluZGV4KSkgfHxcblx0XHRcdFx0XHRcdFx0XHQoaW5kZXgrdG9fY2hlY2subGVuZ3RoIDwgZXhwci5sZW5ndGggJiYgIWlzSWRlbnRpZmllclBhcnQoZXhwcklDb2RlKGluZGV4K3RvX2NoZWNrLmxlbmd0aCkpKVxuXHRcdFx0XHRcdFx0XHQpKSB7XG5cdFx0XHRcdFx0XHRcdFx0aW5kZXggKz0gdGNfbGVuO1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRcdFx0XHR0eXBlOiBVTkFSWV9FWFAsXG5cdFx0XHRcdFx0XHRcdFx0XHRvcGVyYXRvcjogdG9fY2hlY2ssXG5cdFx0XHRcdFx0XHRcdFx0XHRhcmd1bWVudDogZ29iYmxlVG9rZW4oKSxcblx0XHRcdFx0XHRcdFx0XHRcdHByZWZpeDogdHJ1ZVxuXHRcdFx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0dG9fY2hlY2sgPSB0b19jaGVjay5zdWJzdHIoMCwgLS10Y19sZW4pO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRpZiAoaXNJZGVudGlmaWVyU3RhcnQoY2gpIHx8IGNoID09PSBPUEFSRU5fQ09ERSkgeyAvLyBvcGVuIHBhcmVudGhlc2lzXG5cdFx0XHRcdFx0XHRcdC8vIGBmb29gLCBgYmFyLmJhemBcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGdvYmJsZVZhcmlhYmxlKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHQvLyBQYXJzZSBzaW1wbGUgbnVtZXJpYyBsaXRlcmFsczogYDEyYCwgYDMuNGAsIGAuNWAuIERvIHRoaXMgYnkgdXNpbmcgYSBzdHJpbmcgdG9cblx0XHRcdFx0Ly8ga2VlcCB0cmFjayBvZiBldmVyeXRoaW5nIGluIHRoZSBudW1lcmljIGxpdGVyYWwgYW5kIHRoZW4gY2FsbGluZyBgcGFyc2VGbG9hdGAgb24gdGhhdCBzdHJpbmdcblx0XHRcdFx0Z29iYmxlTnVtZXJpY0xpdGVyYWwgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHR2YXIgbnVtYmVyID0gJycsIGNoLCBjaENvZGU7XG5cdFx0XHRcdFx0d2hpbGUoaXNEZWNpbWFsRGlnaXQoZXhwcklDb2RlKGluZGV4KSkpIHtcblx0XHRcdFx0XHRcdG51bWJlciArPSBleHBySShpbmRleCsrKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZihleHBySUNvZGUoaW5kZXgpID09PSBQRVJJT0RfQ09ERSkgeyAvLyBjYW4gc3RhcnQgd2l0aCBhIGRlY2ltYWwgbWFya2VyXG5cdFx0XHRcdFx0XHRudW1iZXIgKz0gZXhwckkoaW5kZXgrKyk7XG5cblx0XHRcdFx0XHRcdHdoaWxlKGlzRGVjaW1hbERpZ2l0KGV4cHJJQ29kZShpbmRleCkpKSB7XG5cdFx0XHRcdFx0XHRcdG51bWJlciArPSBleHBySShpbmRleCsrKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRjaCA9IGV4cHJJKGluZGV4KTtcblx0XHRcdFx0XHRpZihjaCA9PT0gJ2UnIHx8IGNoID09PSAnRScpIHsgLy8gZXhwb25lbnQgbWFya2VyXG5cdFx0XHRcdFx0XHRudW1iZXIgKz0gZXhwckkoaW5kZXgrKyk7XG5cdFx0XHRcdFx0XHRjaCA9IGV4cHJJKGluZGV4KTtcblx0XHRcdFx0XHRcdGlmKGNoID09PSAnKycgfHwgY2ggPT09ICctJykgeyAvLyBleHBvbmVudCBzaWduXG5cdFx0XHRcdFx0XHRcdG51bWJlciArPSBleHBySShpbmRleCsrKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHdoaWxlKGlzRGVjaW1hbERpZ2l0KGV4cHJJQ29kZShpbmRleCkpKSB7IC8vZXhwb25lbnQgaXRzZWxmXG5cdFx0XHRcdFx0XHRcdG51bWJlciArPSBleHBySShpbmRleCsrKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGlmKCFpc0RlY2ltYWxEaWdpdChleHBySUNvZGUoaW5kZXgtMSkpICkge1xuXHRcdFx0XHRcdFx0XHR0aHJvd0Vycm9yKCdFeHBlY3RlZCBleHBvbmVudCAoJyArIG51bWJlciArIGV4cHJJKGluZGV4KSArICcpJywgaW5kZXgpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblxuXG5cdFx0XHRcdFx0Y2hDb2RlID0gZXhwcklDb2RlKGluZGV4KTtcblx0XHRcdFx0XHQvLyBDaGVjayB0byBtYWtlIHN1cmUgdGhpcyBpc24ndCBhIHZhcmlhYmxlIG5hbWUgdGhhdCBzdGFydCB3aXRoIGEgbnVtYmVyICgxMjNhYmMpXG5cdFx0XHRcdFx0aWYoaXNJZGVudGlmaWVyU3RhcnQoY2hDb2RlKSkge1xuXHRcdFx0XHRcdFx0dGhyb3dFcnJvcignVmFyaWFibGUgbmFtZXMgY2Fubm90IHN0YXJ0IHdpdGggYSBudW1iZXIgKCcgK1xuXHRcdFx0XHRcdFx0XHRcdFx0bnVtYmVyICsgZXhwckkoaW5kZXgpICsgJyknLCBpbmRleCk7XG5cdFx0XHRcdFx0fSBlbHNlIGlmKGNoQ29kZSA9PT0gUEVSSU9EX0NPREUpIHtcblx0XHRcdFx0XHRcdHRocm93RXJyb3IoJ1VuZXhwZWN0ZWQgcGVyaW9kJywgaW5kZXgpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHR0eXBlOiBMSVRFUkFMLFxuXHRcdFx0XHRcdFx0dmFsdWU6IHBhcnNlRmxvYXQobnVtYmVyKSxcblx0XHRcdFx0XHRcdHJhdzogbnVtYmVyXG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBQYXJzZXMgYSBzdHJpbmcgbGl0ZXJhbCwgc3RhcmluZyB3aXRoIHNpbmdsZSBvciBkb3VibGUgcXVvdGVzIHdpdGggYmFzaWMgc3VwcG9ydCBmb3IgZXNjYXBlIGNvZGVzXG5cdFx0XHRcdC8vIGUuZy4gYFwiaGVsbG8gd29ybGRcImAsIGAndGhpcyBpc1xcbkpTRVAnYFxuXHRcdFx0XHRnb2JibGVTdHJpbmdMaXRlcmFsID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0dmFyIHN0ciA9ICcnLCBxdW90ZSA9IGV4cHJJKGluZGV4KyspLCBjbG9zZWQgPSBmYWxzZSwgY2g7XG5cblx0XHRcdFx0XHR3aGlsZShpbmRleCA8IGxlbmd0aCkge1xuXHRcdFx0XHRcdFx0Y2ggPSBleHBySShpbmRleCsrKTtcblx0XHRcdFx0XHRcdGlmKGNoID09PSBxdW90ZSkge1xuXHRcdFx0XHRcdFx0XHRjbG9zZWQgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH0gZWxzZSBpZihjaCA9PT0gJ1xcXFwnKSB7XG5cdFx0XHRcdFx0XHRcdC8vIENoZWNrIGZvciBhbGwgb2YgdGhlIGNvbW1vbiBlc2NhcGUgY29kZXNcblx0XHRcdFx0XHRcdFx0Y2ggPSBleHBySShpbmRleCsrKTtcblx0XHRcdFx0XHRcdFx0c3dpdGNoKGNoKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAnbic6IHN0ciArPSAnXFxuJzsgYnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAncic6IHN0ciArPSAnXFxyJzsgYnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAndCc6IHN0ciArPSAnXFx0JzsgYnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAnYic6IHN0ciArPSAnXFxiJzsgYnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAnZic6IHN0ciArPSAnXFxmJzsgYnJlYWs7XG5cdFx0XHRcdFx0XHRcdFx0Y2FzZSAndic6IHN0ciArPSAnXFx4MEInOyBicmVhaztcblx0XHRcdFx0XHRcdFx0XHRkZWZhdWx0IDogc3RyICs9IGNoO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRzdHIgKz0gY2g7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYoIWNsb3NlZCkge1xuXHRcdFx0XHRcdFx0dGhyb3dFcnJvcignVW5jbG9zZWQgcXVvdGUgYWZ0ZXIgXCInK3N0cisnXCInLCBpbmRleCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdHR5cGU6IExJVEVSQUwsXG5cdFx0XHRcdFx0XHR2YWx1ZTogc3RyLFxuXHRcdFx0XHRcdFx0cmF3OiBxdW90ZSArIHN0ciArIHF1b3RlXG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBHb2JibGVzIG9ubHkgaWRlbnRpZmllcnNcblx0XHRcdFx0Ly8gZS5nLjogYGZvb2AsIGBfdmFsdWVgLCBgJHgxYFxuXHRcdFx0XHQvLyBBbHNvLCB0aGlzIGZ1bmN0aW9uIGNoZWNrcyBpZiB0aGF0IGlkZW50aWZpZXIgaXMgYSBsaXRlcmFsOlxuXHRcdFx0XHQvLyAoZS5nLiBgdHJ1ZWAsIGBmYWxzZWAsIGBudWxsYCkgb3IgYHRoaXNgXG5cdFx0XHRcdGdvYmJsZUlkZW50aWZpZXIgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHR2YXIgY2ggPSBleHBySUNvZGUoaW5kZXgpLCBzdGFydCA9IGluZGV4LCBpZGVudGlmaWVyO1xuXG5cdFx0XHRcdFx0aWYoaXNJZGVudGlmaWVyU3RhcnQoY2gpKSB7XG5cdFx0XHRcdFx0XHRpbmRleCsrO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHR0aHJvd0Vycm9yKCdVbmV4cGVjdGVkICcgKyBleHBySShpbmRleCksIGluZGV4KTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR3aGlsZShpbmRleCA8IGxlbmd0aCkge1xuXHRcdFx0XHRcdFx0Y2ggPSBleHBySUNvZGUoaW5kZXgpO1xuXHRcdFx0XHRcdFx0aWYoaXNJZGVudGlmaWVyUGFydChjaCkpIHtcblx0XHRcdFx0XHRcdFx0aW5kZXgrKztcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZGVudGlmaWVyID0gZXhwci5zbGljZShzdGFydCwgaW5kZXgpO1xuXG5cdFx0XHRcdFx0aWYobGl0ZXJhbHMuaGFzT3duUHJvcGVydHkoaWRlbnRpZmllcikpIHtcblx0XHRcdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0XHRcdHR5cGU6IExJVEVSQUwsXG5cdFx0XHRcdFx0XHRcdHZhbHVlOiBsaXRlcmFsc1tpZGVudGlmaWVyXSxcblx0XHRcdFx0XHRcdFx0cmF3OiBpZGVudGlmaWVyXG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdH0gZWxzZSBpZihpZGVudGlmaWVyID09PSB0aGlzX3N0cikge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHsgdHlwZTogVEhJU19FWFAgfTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdFx0dHlwZTogSURFTlRJRklFUixcblx0XHRcdFx0XHRcdFx0bmFtZTogaWRlbnRpZmllclxuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gR29iYmxlcyBhIGxpc3Qgb2YgYXJndW1lbnRzIHdpdGhpbiB0aGUgY29udGV4dCBvZiBhIGZ1bmN0aW9uIGNhbGxcblx0XHRcdFx0Ly8gb3IgYXJyYXkgbGl0ZXJhbC4gVGhpcyBmdW5jdGlvbiBhbHNvIGFzc3VtZXMgdGhhdCB0aGUgb3BlbmluZyBjaGFyYWN0ZXJcblx0XHRcdFx0Ly8gYChgIG9yIGBbYCBoYXMgYWxyZWFkeSBiZWVuIGdvYmJsZWQsIGFuZCBnb2JibGVzIGV4cHJlc3Npb25zIGFuZCBjb21tYXNcblx0XHRcdFx0Ly8gdW50aWwgdGhlIHRlcm1pbmF0b3IgY2hhcmFjdGVyIGApYCBvciBgXWAgaXMgZW5jb3VudGVyZWQuXG5cdFx0XHRcdC8vIGUuZy4gYGZvbyhiYXIsIGJheilgLCBgbXlfZnVuYygpYCwgb3IgYFtiYXIsIGJhel1gXG5cdFx0XHRcdGdvYmJsZUFyZ3VtZW50cyA9IGZ1bmN0aW9uKHRlcm1pbmF0aW9uKSB7XG5cdFx0XHRcdFx0dmFyIGNoX2ksIGFyZ3MgPSBbXSwgbm9kZSwgY2xvc2VkID0gZmFsc2U7XG5cdFx0XHRcdFx0dmFyIHNlcGFyYXRvcl9jb3VudCA9IDA7XG5cdFx0XHRcdFx0d2hpbGUoaW5kZXggPCBsZW5ndGgpIHtcblx0XHRcdFx0XHRcdGdvYmJsZVNwYWNlcygpO1xuXHRcdFx0XHRcdFx0Y2hfaSA9IGV4cHJJQ29kZShpbmRleCk7XG5cdFx0XHRcdFx0XHRpZihjaF9pID09PSB0ZXJtaW5hdGlvbikgeyAvLyBkb25lIHBhcnNpbmdcblx0XHRcdFx0XHRcdFx0Y2xvc2VkID0gdHJ1ZTtcblx0XHRcdFx0XHRcdFx0aW5kZXgrKztcblx0XHRcdFx0XHRcdFx0aWYodGVybWluYXRpb24gPT09IENQQVJFTl9DT0RFICYmIHNlcGFyYXRvcl9jb3VudCAmJiBzZXBhcmF0b3JfY291bnQgPj0gYXJncy5sZW5ndGgpe1xuXHRcdFx0XHRcdFx0XHRcdHRocm93RXJyb3IoJ1VuZXhwZWN0ZWQgdG9rZW4gJyArIFN0cmluZy5mcm9tQ2hhckNvZGUodGVybWluYXRpb24pLCBpbmRleCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0XHR9IGVsc2UgaWYgKGNoX2kgPT09IENPTU1BX0NPREUpIHsgLy8gYmV0d2VlbiBleHByZXNzaW9uc1xuXHRcdFx0XHRcdFx0XHRpbmRleCsrO1xuXHRcdFx0XHRcdFx0XHRzZXBhcmF0b3JfY291bnQrKztcblx0XHRcdFx0XHRcdFx0aWYoc2VwYXJhdG9yX2NvdW50ICE9PSBhcmdzLmxlbmd0aCkgeyAvLyBtaXNzaW5nIGFyZ3VtZW50XG5cdFx0XHRcdFx0XHRcdFx0aWYodGVybWluYXRpb24gPT09IENQQVJFTl9DT0RFKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHR0aHJvd0Vycm9yKCdVbmV4cGVjdGVkIHRva2VuICwnLCBpbmRleCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdGVsc2UgaWYodGVybWluYXRpb24gPT09IENCUkFDS19DT0RFKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRmb3IodmFyIGFyZyA9IGFyZ3MubGVuZ3RoOyBhcmc8IHNlcGFyYXRvcl9jb3VudDsgYXJnKyspIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0YXJncy5wdXNoKG51bGwpO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0bm9kZSA9IGdvYmJsZUV4cHJlc3Npb24oKTtcblx0XHRcdFx0XHRcdFx0aWYoIW5vZGUgfHwgbm9kZS50eXBlID09PSBDT01QT1VORCkge1xuXHRcdFx0XHRcdFx0XHRcdHRocm93RXJyb3IoJ0V4cGVjdGVkIGNvbW1hJywgaW5kZXgpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdGFyZ3MucHVzaChub2RlKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKCFjbG9zZWQpIHtcblx0XHRcdFx0XHRcdHRocm93RXJyb3IoJ0V4cGVjdGVkICcgKyBTdHJpbmcuZnJvbUNoYXJDb2RlKHRlcm1pbmF0aW9uKSwgaW5kZXgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gYXJncztcblx0XHRcdFx0fSxcblxuXHRcdFx0XHQvLyBHb2JibGUgYSBub24tbGl0ZXJhbCB2YXJpYWJsZSBuYW1lLiBUaGlzIHZhcmlhYmxlIG5hbWUgbWF5IGluY2x1ZGUgcHJvcGVydGllc1xuXHRcdFx0XHQvLyBlLmcuIGBmb29gLCBgYmFyLmJhemAsIGBmb29bJ2JhciddLmJhemBcblx0XHRcdFx0Ly8gSXQgYWxzbyBnb2JibGVzIGZ1bmN0aW9uIGNhbGxzOlxuXHRcdFx0XHQvLyBlLmcuIGBNYXRoLmFjb3Mob2JqLmFuZ2xlKWBcblx0XHRcdFx0Z29iYmxlVmFyaWFibGUgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHR2YXIgY2hfaSwgbm9kZTtcblx0XHRcdFx0XHRjaF9pID0gZXhwcklDb2RlKGluZGV4KTtcblxuXHRcdFx0XHRcdGlmKGNoX2kgPT09IE9QQVJFTl9DT0RFKSB7XG5cdFx0XHRcdFx0XHRub2RlID0gZ29iYmxlR3JvdXAoKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0bm9kZSA9IGdvYmJsZUlkZW50aWZpZXIoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Z29iYmxlU3BhY2VzKCk7XG5cdFx0XHRcdFx0Y2hfaSA9IGV4cHJJQ29kZShpbmRleCk7XG5cdFx0XHRcdFx0d2hpbGUoY2hfaSA9PT0gUEVSSU9EX0NPREUgfHwgY2hfaSA9PT0gT0JSQUNLX0NPREUgfHwgY2hfaSA9PT0gT1BBUkVOX0NPREUpIHtcblx0XHRcdFx0XHRcdGluZGV4Kys7XG5cdFx0XHRcdFx0XHRpZihjaF9pID09PSBQRVJJT0RfQ09ERSkge1xuXHRcdFx0XHRcdFx0XHRnb2JibGVTcGFjZXMoKTtcblx0XHRcdFx0XHRcdFx0bm9kZSA9IHtcblx0XHRcdFx0XHRcdFx0XHR0eXBlOiBNRU1CRVJfRVhQLFxuXHRcdFx0XHRcdFx0XHRcdGNvbXB1dGVkOiBmYWxzZSxcblx0XHRcdFx0XHRcdFx0XHRvYmplY3Q6IG5vZGUsXG5cdFx0XHRcdFx0XHRcdFx0cHJvcGVydHk6IGdvYmJsZUlkZW50aWZpZXIoKVxuXHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0fSBlbHNlIGlmKGNoX2kgPT09IE9CUkFDS19DT0RFKSB7XG5cdFx0XHRcdFx0XHRcdG5vZGUgPSB7XG5cdFx0XHRcdFx0XHRcdFx0dHlwZTogTUVNQkVSX0VYUCxcblx0XHRcdFx0XHRcdFx0XHRjb21wdXRlZDogdHJ1ZSxcblx0XHRcdFx0XHRcdFx0XHRvYmplY3Q6IG5vZGUsXG5cdFx0XHRcdFx0XHRcdFx0cHJvcGVydHk6IGdvYmJsZUV4cHJlc3Npb24oKVxuXHRcdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0XHRnb2JibGVTcGFjZXMoKTtcblx0XHRcdFx0XHRcdFx0Y2hfaSA9IGV4cHJJQ29kZShpbmRleCk7XG5cdFx0XHRcdFx0XHRcdGlmKGNoX2kgIT09IENCUkFDS19DT0RFKSB7XG5cdFx0XHRcdFx0XHRcdFx0dGhyb3dFcnJvcignVW5jbG9zZWQgWycsIGluZGV4KTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRpbmRleCsrO1xuXHRcdFx0XHRcdFx0fSBlbHNlIGlmKGNoX2kgPT09IE9QQVJFTl9DT0RFKSB7XG5cdFx0XHRcdFx0XHRcdC8vIEEgZnVuY3Rpb24gY2FsbCBpcyBiZWluZyBtYWRlOyBnb2JibGUgYWxsIHRoZSBhcmd1bWVudHNcblx0XHRcdFx0XHRcdFx0bm9kZSA9IHtcblx0XHRcdFx0XHRcdFx0XHR0eXBlOiBDQUxMX0VYUCxcblx0XHRcdFx0XHRcdFx0XHQnYXJndW1lbnRzJzogZ29iYmxlQXJndW1lbnRzKENQQVJFTl9DT0RFKSxcblx0XHRcdFx0XHRcdFx0XHRjYWxsZWU6IG5vZGVcblx0XHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGdvYmJsZVNwYWNlcygpO1xuXHRcdFx0XHRcdFx0Y2hfaSA9IGV4cHJJQ29kZShpbmRleCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHJldHVybiBub2RlO1xuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdC8vIFJlc3BvbnNpYmxlIGZvciBwYXJzaW5nIGEgZ3JvdXAgb2YgdGhpbmdzIHdpdGhpbiBwYXJlbnRoZXNlcyBgKClgXG5cdFx0XHRcdC8vIFRoaXMgZnVuY3Rpb24gYXNzdW1lcyB0aGF0IGl0IG5lZWRzIHRvIGdvYmJsZSB0aGUgb3BlbmluZyBwYXJlbnRoZXNpc1xuXHRcdFx0XHQvLyBhbmQgdGhlbiB0cmllcyB0byBnb2JibGUgZXZlcnl0aGluZyB3aXRoaW4gdGhhdCBwYXJlbnRoZXNpcywgYXNzdW1pbmdcblx0XHRcdFx0Ly8gdGhhdCB0aGUgbmV4dCB0aGluZyBpdCBzaG91bGQgc2VlIGlzIHRoZSBjbG9zZSBwYXJlbnRoZXNpcy4gSWYgbm90LFxuXHRcdFx0XHQvLyB0aGVuIHRoZSBleHByZXNzaW9uIHByb2JhYmx5IGRvZXNuJ3QgaGF2ZSBhIGApYFxuXHRcdFx0XHRnb2JibGVHcm91cCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGluZGV4Kys7XG5cdFx0XHRcdFx0dmFyIG5vZGUgPSBnb2JibGVFeHByZXNzaW9uKCk7XG5cdFx0XHRcdFx0Z29iYmxlU3BhY2VzKCk7XG5cdFx0XHRcdFx0aWYoZXhwcklDb2RlKGluZGV4KSA9PT0gQ1BBUkVOX0NPREUpIHtcblx0XHRcdFx0XHRcdGluZGV4Kys7XG5cdFx0XHRcdFx0XHRyZXR1cm4gbm9kZTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0dGhyb3dFcnJvcignVW5jbG9zZWQgKCcsIGluZGV4KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0sXG5cblx0XHRcdFx0Ly8gUmVzcG9uc2libGUgZm9yIHBhcnNpbmcgQXJyYXkgbGl0ZXJhbHMgYFsxLCAyLCAzXWBcblx0XHRcdFx0Ly8gVGhpcyBmdW5jdGlvbiBhc3N1bWVzIHRoYXQgaXQgbmVlZHMgdG8gZ29iYmxlIHRoZSBvcGVuaW5nIGJyYWNrZXRcblx0XHRcdFx0Ly8gYW5kIHRoZW4gdHJpZXMgdG8gZ29iYmxlIHRoZSBleHByZXNzaW9ucyBhcyBhcmd1bWVudHMuXG5cdFx0XHRcdGdvYmJsZUFycmF5ID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0aW5kZXgrKztcblx0XHRcdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHRcdFx0dHlwZTogQVJSQVlfRVhQLFxuXHRcdFx0XHRcdFx0ZWxlbWVudHM6IGdvYmJsZUFyZ3VtZW50cyhDQlJBQ0tfQ09ERSlcblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9LFxuXG5cdFx0XHRcdG5vZGVzID0gW10sIGNoX2ksIG5vZGU7XG5cblx0XHRcdHdoaWxlKGluZGV4IDwgbGVuZ3RoKSB7XG5cdFx0XHRcdGNoX2kgPSBleHBySUNvZGUoaW5kZXgpO1xuXG5cdFx0XHRcdC8vIEV4cHJlc3Npb25zIGNhbiBiZSBzZXBhcmF0ZWQgYnkgc2VtaWNvbG9ucywgY29tbWFzLCBvciBqdXN0IGluZmVycmVkIHdpdGhvdXQgYW55XG5cdFx0XHRcdC8vIHNlcGFyYXRvcnNcblx0XHRcdFx0aWYoY2hfaSA9PT0gU0VNQ09MX0NPREUgfHwgY2hfaSA9PT0gQ09NTUFfQ09ERSkge1xuXHRcdFx0XHRcdGluZGV4Kys7IC8vIGlnbm9yZSBzZXBhcmF0b3JzXG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8gVHJ5IHRvIGdvYmJsZSBlYWNoIGV4cHJlc3Npb24gaW5kaXZpZHVhbGx5XG5cdFx0XHRcdFx0aWYoKG5vZGUgPSBnb2JibGVFeHByZXNzaW9uKCkpKSB7XG5cdFx0XHRcdFx0XHRub2Rlcy5wdXNoKG5vZGUpO1xuXHRcdFx0XHRcdC8vIElmIHdlIHdlcmVuJ3QgYWJsZSB0byBmaW5kIGEgYmluYXJ5IGV4cHJlc3Npb24gYW5kIGFyZSBvdXQgb2Ygcm9vbSwgdGhlblxuXHRcdFx0XHRcdC8vIHRoZSBleHByZXNzaW9uIHBhc3NlZCBpbiBwcm9iYWJseSBoYXMgdG9vIG11Y2hcblx0XHRcdFx0XHR9IGVsc2UgaWYoaW5kZXggPCBsZW5ndGgpIHtcblx0XHRcdFx0XHRcdHRocm93RXJyb3IoJ1VuZXhwZWN0ZWQgXCInICsgZXhwckkoaW5kZXgpICsgJ1wiJywgaW5kZXgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiB0aGVyZSdzIG9ubHkgb25lIGV4cHJlc3Npb24ganVzdCB0cnkgcmV0dXJuaW5nIHRoZSBleHByZXNzaW9uXG5cdFx0XHRpZihub2Rlcy5sZW5ndGggPT09IDEpIHtcblx0XHRcdFx0cmV0dXJuIG5vZGVzWzBdO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHR0eXBlOiBDT01QT1VORCxcblx0XHRcdFx0XHRib2R5OiBub2Rlc1xuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXHRcdH07XG5cblx0Ly8gVG8gYmUgZmlsbGVkIGluIGJ5IHRoZSB0ZW1wbGF0ZVxuXHRqc2VwLnZlcnNpb24gPSAnMC4zLjUnO1xuXHRqc2VwLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7IHJldHVybiAnSmF2YVNjcmlwdCBFeHByZXNzaW9uIFBhcnNlciAoSlNFUCkgdicgKyBqc2VwLnZlcnNpb247IH07XG5cblx0LyoqXG5cdCAqIEBtZXRob2QganNlcC5hZGRVbmFyeU9wXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBvcF9uYW1lIFRoZSBuYW1lIG9mIHRoZSB1bmFyeSBvcCB0byBhZGRcblx0ICogQHJldHVybiBqc2VwXG5cdCAqL1xuXHRqc2VwLmFkZFVuYXJ5T3AgPSBmdW5jdGlvbihvcF9uYW1lKSB7XG5cdFx0bWF4X3Vub3BfbGVuID0gTWF0aC5tYXgob3BfbmFtZS5sZW5ndGgsIG1heF91bm9wX2xlbik7XG5cdFx0dW5hcnlfb3BzW29wX25hbWVdID0gdDsgcmV0dXJuIHRoaXM7XG5cdH07XG5cblx0LyoqXG5cdCAqIEBtZXRob2QganNlcC5hZGRCaW5hcnlPcFxuXHQgKiBAcGFyYW0ge3N0cmluZ30gb3BfbmFtZSBUaGUgbmFtZSBvZiB0aGUgYmluYXJ5IG9wIHRvIGFkZFxuXHQgKiBAcGFyYW0ge251bWJlcn0gcHJlY2VkZW5jZSBUaGUgcHJlY2VkZW5jZSBvZiB0aGUgYmluYXJ5IG9wIChjYW4gYmUgYSBmbG9hdClcblx0ICogQHJldHVybiBqc2VwXG5cdCAqL1xuXHRqc2VwLmFkZEJpbmFyeU9wID0gZnVuY3Rpb24ob3BfbmFtZSwgcHJlY2VkZW5jZSkge1xuXHRcdG1heF9iaW5vcF9sZW4gPSBNYXRoLm1heChvcF9uYW1lLmxlbmd0aCwgbWF4X2Jpbm9wX2xlbik7XG5cdFx0YmluYXJ5X29wc1tvcF9uYW1lXSA9IHByZWNlZGVuY2U7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cblx0LyoqXG5cdCAqIEBtZXRob2QganNlcC5hZGRMaXRlcmFsXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBsaXRlcmFsX25hbWUgVGhlIG5hbWUgb2YgdGhlIGxpdGVyYWwgdG8gYWRkXG5cdCAqIEBwYXJhbSB7Kn0gbGl0ZXJhbF92YWx1ZSBUaGUgdmFsdWUgb2YgdGhlIGxpdGVyYWxcblx0ICogQHJldHVybiBqc2VwXG5cdCAqL1xuXHRqc2VwLmFkZExpdGVyYWwgPSBmdW5jdGlvbihsaXRlcmFsX25hbWUsIGxpdGVyYWxfdmFsdWUpIHtcblx0XHRsaXRlcmFsc1tsaXRlcmFsX25hbWVdID0gbGl0ZXJhbF92YWx1ZTtcblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblxuXHQvKipcblx0ICogQG1ldGhvZCBqc2VwLnJlbW92ZVVuYXJ5T3Bcblx0ICogQHBhcmFtIHtzdHJpbmd9IG9wX25hbWUgVGhlIG5hbWUgb2YgdGhlIHVuYXJ5IG9wIHRvIHJlbW92ZVxuXHQgKiBAcmV0dXJuIGpzZXBcblx0ICovXG5cdGpzZXAucmVtb3ZlVW5hcnlPcCA9IGZ1bmN0aW9uKG9wX25hbWUpIHtcblx0XHRkZWxldGUgdW5hcnlfb3BzW29wX25hbWVdO1xuXHRcdGlmKG9wX25hbWUubGVuZ3RoID09PSBtYXhfdW5vcF9sZW4pIHtcblx0XHRcdG1heF91bm9wX2xlbiA9IGdldE1heEtleUxlbih1bmFyeV9vcHMpO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblxuXHQvKipcblx0ICogQG1ldGhvZCBqc2VwLnJlbW92ZUFsbFVuYXJ5T3BzXG5cdCAqIEByZXR1cm4ganNlcFxuXHQgKi9cblx0anNlcC5yZW1vdmVBbGxVbmFyeU9wcyA9IGZ1bmN0aW9uKCkge1xuXHRcdHVuYXJ5X29wcyA9IHt9O1xuXHRcdG1heF91bm9wX2xlbiA9IDA7XG5cblx0XHRyZXR1cm4gdGhpcztcblx0fTtcblxuXHQvKipcblx0ICogQG1ldGhvZCBqc2VwLnJlbW92ZUJpbmFyeU9wXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBvcF9uYW1lIFRoZSBuYW1lIG9mIHRoZSBiaW5hcnkgb3AgdG8gcmVtb3ZlXG5cdCAqIEByZXR1cm4ganNlcFxuXHQgKi9cblx0anNlcC5yZW1vdmVCaW5hcnlPcCA9IGZ1bmN0aW9uKG9wX25hbWUpIHtcblx0XHRkZWxldGUgYmluYXJ5X29wc1tvcF9uYW1lXTtcblx0XHRpZihvcF9uYW1lLmxlbmd0aCA9PT0gbWF4X2Jpbm9wX2xlbikge1xuXHRcdFx0bWF4X2Jpbm9wX2xlbiA9IGdldE1heEtleUxlbihiaW5hcnlfb3BzKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH07XG5cblx0LyoqXG5cdCAqIEBtZXRob2QganNlcC5yZW1vdmVBbGxCaW5hcnlPcHNcblx0ICogQHJldHVybiBqc2VwXG5cdCAqL1xuXHRqc2VwLnJlbW92ZUFsbEJpbmFyeU9wcyA9IGZ1bmN0aW9uKCkge1xuXHRcdGJpbmFyeV9vcHMgPSB7fTtcblx0XHRtYXhfYmlub3BfbGVuID0gMDtcblxuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBAbWV0aG9kIGpzZXAucmVtb3ZlTGl0ZXJhbFxuXHQgKiBAcGFyYW0ge3N0cmluZ30gbGl0ZXJhbF9uYW1lIFRoZSBuYW1lIG9mIHRoZSBsaXRlcmFsIHRvIHJlbW92ZVxuXHQgKiBAcmV0dXJuIGpzZXBcblx0ICovXG5cdGpzZXAucmVtb3ZlTGl0ZXJhbCA9IGZ1bmN0aW9uKGxpdGVyYWxfbmFtZSkge1xuXHRcdGRlbGV0ZSBsaXRlcmFsc1tsaXRlcmFsX25hbWVdO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBAbWV0aG9kIGpzZXAucmVtb3ZlQWxsTGl0ZXJhbHNcblx0ICogQHJldHVybiBqc2VwXG5cdCAqL1xuXHRqc2VwLnJlbW92ZUFsbExpdGVyYWxzID0gZnVuY3Rpb24oKSB7XG5cdFx0bGl0ZXJhbHMgPSB7fTtcblxuXHRcdHJldHVybiB0aGlzO1xuXHR9O1xuXG5cdC8vIEluIGRlc2t0b3AgZW52aXJvbm1lbnRzLCBoYXZlIGEgd2F5IHRvIHJlc3RvcmUgdGhlIG9sZCB2YWx1ZSBmb3IgYGpzZXBgXG5cdGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ3VuZGVmaW5lZCcpIHtcblx0XHR2YXIgb2xkX2pzZXAgPSByb290LmpzZXA7XG5cdFx0Ly8gVGhlIHN0YXIgb2YgdGhlIHNob3chIEl0J3MgYSBmdW5jdGlvbiFcblx0XHRyb290LmpzZXAgPSBqc2VwO1xuXHRcdC8vIEFuZCBhIGNvdXJ0ZW91cyBmdW5jdGlvbiB3aWxsaW5nIHRvIG1vdmUgb3V0IG9mIHRoZSB3YXkgZm9yIG90aGVyIHNpbWlsYXJseS1uYW1lZCBvYmplY3RzIVxuXHRcdGpzZXAubm9Db25mbGljdCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYocm9vdC5qc2VwID09PSBqc2VwKSB7XG5cdFx0XHRcdHJvb3QuanNlcCA9IG9sZF9qc2VwO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGpzZXA7XG5cdFx0fTtcblx0fSBlbHNlIHtcblx0XHQvLyBJbiBOb2RlLkpTIGVudmlyb25tZW50c1xuXHRcdGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykge1xuXHRcdFx0ZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0ganNlcDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZXhwb3J0cy5wYXJzZSA9IGpzZXA7XG5cdFx0fVxuXHR9XG59KHRoaXMpKTtcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdGlmKF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0pIHtcblx0XHRyZXR1cm4gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gbW9kdWxlWydkZWZhdWx0J10gOlxuXHRcdCgpID0+IG1vZHVsZTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApIiwiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxyXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICAgICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XHJcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xyXG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcclxuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY3JlYXRlQmluZGluZyhvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIG9bazJdID0gbVtrXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBleHBvcnRzKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XHJcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xyXG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XHJcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xyXG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXHJcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXHJcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xyXG4gICAgcmV0dXJuIHI7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSByZXN1bHRba10gPSBtb2Rba107XHJcbiAgICByZXN1bHQuZGVmYXVsdCA9IG1vZDtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEdldChyZWNlaXZlciwgcHJpdmF0ZU1hcCkge1xyXG4gICAgaWYgKCFwcml2YXRlTWFwLmhhcyhyZWNlaXZlcikpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIGdldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBwcml2YXRlTWFwLmdldChyZWNlaXZlcik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHJlY2VpdmVyLCBwcml2YXRlTWFwLCB2YWx1ZSkge1xyXG4gICAgaWYgKCFwcml2YXRlTWFwLmhhcyhyZWNlaXZlcikpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIHNldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtcclxuICAgIH1cclxuICAgIHByaXZhdGVNYXAuc2V0KHJlY2VpdmVyLCB2YWx1ZSk7XHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbn1cclxuIiwiaW1wb3J0IHsgX19hc3NpZ24gfSBmcm9tIFwidHNsaWJcIjtcclxuLyoqXHJcbiAqIERlZXAgY29weSBmdW5jdGlvbiBmb3IgVHlwZVNjcmlwdC5cclxuICogQHBhcmFtIFQgR2VuZXJpYyB0eXBlIG9mIHRhcmdldC9jb3BpZWQgdmFsdWUuXHJcbiAqIEBwYXJhbSB0YXJnZXQgVGFyZ2V0IHZhbHVlIHRvIGJlIGNvcGllZC5cclxuICogQHNlZSBTb3VyY2UgcHJvamVjdCwgdHMtZGVlcGNvcHkgaHR0cHM6Ly9naXRodWIuY29tL3lrZHIyMDE3L3RzLWRlZXBjb3B5XHJcbiAqIEBzZWUgQ29kZSBwZW4gaHR0cHM6Ly9jb2RlcGVuLmlvL2VyaWt2dWxsaW5ncy9wZW4vZWp5QllnXHJcbiAqL1xyXG5leHBvcnQgdmFyIGRlZXBDb3B5ID0gZnVuY3Rpb24gKHRhcmdldCkge1xyXG4gICAgaWYgKHRhcmdldCA9PT0gbnVsbCkge1xyXG4gICAgICAgIHJldHVybiB0YXJnZXQ7XHJcbiAgICB9XHJcbiAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgRGF0ZSkge1xyXG4gICAgICAgIHJldHVybiBuZXcgRGF0ZSh0YXJnZXQuZ2V0VGltZSgpKTtcclxuICAgIH1cclxuICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBBcnJheSkge1xyXG4gICAgICAgIHZhciBjcF8xID0gW107XHJcbiAgICAgICAgdGFyZ2V0LmZvckVhY2goZnVuY3Rpb24gKHYpIHsgY3BfMS5wdXNoKHYpOyB9KTtcclxuICAgICAgICByZXR1cm4gY3BfMS5tYXAoZnVuY3Rpb24gKG4pIHsgcmV0dXJuIGRlZXBDb3B5KG4pOyB9KTtcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2YgdGFyZ2V0ID09PSAnb2JqZWN0JyAmJiB0YXJnZXQgIT09IHt9KSB7XHJcbiAgICAgICAgdmFyIGNwXzIgPSBfX2Fzc2lnbih7fSwgdGFyZ2V0KTtcclxuICAgICAgICBPYmplY3Qua2V5cyhjcF8yKS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XHJcbiAgICAgICAgICAgIGNwXzJba10gPSBkZWVwQ29weShjcF8yW2tdKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gY3BfMjtcclxuICAgIH1cclxuICAgIHJldHVybiB0YXJnZXQ7XHJcbn07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlZXAtY29weS5qcy5tYXAiLCJpbXBvcnQgZSBmcm9tXCJqc2VwXCI7ZXhwb3J0e2RlZmF1bHQgYXMgcGFyc2V9ZnJvbVwianNlcFwiO3ZhciByPWZ1bmN0aW9uKGUsaSl7dHJ5e3ZhciBzPSExO2Z1bmN0aW9uIGMoKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBsKXt2YXIgcj1sLG49ci5hcHBseSxvPWE7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0KGUuYXJndW1lbnRzLGkpKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBQcm9taXNlLnJlc29sdmUobi5jYWxsKHIsbyxlKSl9KX19c3dpdGNoKGUudHlwZSl7Y2FzZVwiQXJyYXlFeHByZXNzaW9uXCI6cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0KGUuZWxlbWVudHMsaSkpO2Nhc2VcIkJpbmFyeUV4cHJlc3Npb25cIjpyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFByb21pc2UuYWxsKFtyKGUubGVmdCxpKSxyKGUucmlnaHQsaSldKSkudGhlbihmdW5jdGlvbihyKXtyZXR1cm4gb1tlLm9wZXJhdG9yXShyWzBdLHJbMV0pfSk7Y2FzZVwiQ2FsbEV4cHJlc3Npb25cIjp2YXIgYSxsLGYscD1cIk1lbWJlckV4cHJlc3Npb25cIj09PWUuY2FsbGVlLnR5cGU/UHJvbWlzZS5yZXNvbHZlKG4oZS5jYWxsZWUsaSkpLnRoZW4oZnVuY3Rpb24oZSl7YT0oZj1lKVswXSxsPWZbMV19KTpQcm9taXNlLnJlc29sdmUocihlLmNhbGxlZSxpKSkudGhlbihmdW5jdGlvbihlKXtsPWV9KTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHAmJnAudGhlbj9wLnRoZW4oYyk6YygpKTtjYXNlXCJDb25kaXRpb25hbEV4cHJlc3Npb25cIjpyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHIoZS50ZXN0LGkpKS50aGVuKGZ1bmN0aW9uKG4pe3JldHVybiBQcm9taXNlLnJlc29sdmUocihuP2UuY29uc2VxdWVudDplLmFsdGVybmF0ZSxpKSl9KTtjYXNlXCJJZGVudGlmaWVyXCI6cmV0dXJuIFByb21pc2UucmVzb2x2ZShpW2UubmFtZV0pO2Nhc2VcIkxpdGVyYWxcIjpyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGUudmFsdWUpO2Nhc2VcIkxvZ2ljYWxFeHByZXNzaW9uXCI6e2Z1bmN0aW9uIG0obil7cmV0dXJuIHM/bjpQcm9taXNlLnJlc29sdmUoUHJvbWlzZS5hbGwoW3IoZS5sZWZ0LGkpLHIoZS5yaWdodCxpKV0pKS50aGVuKGZ1bmN0aW9uKHIpe3JldHVybiBvW2Uub3BlcmF0b3JdKHJbMF0sclsxXSl9KX12YXIgdj1cInx8XCI9PT1lLm9wZXJhdG9yPyhzPSEwLFByb21pc2UucmVzb2x2ZShyKGUubGVmdCxpKSkudGhlbihmdW5jdGlvbihuKXtyZXR1cm4gbnx8UHJvbWlzZS5yZXNvbHZlKHIoZS5yaWdodCxpKSl9KSk6ZnVuY3Rpb24oKXtpZihcIiYmXCI9PT1lLm9wZXJhdG9yKXJldHVybiBzPSEwLFByb21pc2UucmVzb2x2ZShyKGUubGVmdCxpKSkudGhlbihmdW5jdGlvbihuKXtyZXR1cm4gbj9Qcm9taXNlLnJlc29sdmUocihlLnJpZ2h0LGkpKTpufSl9KCk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh2JiZ2LnRoZW4/di50aGVuKG0pOm0odikpfWNhc2VcIk1lbWJlckV4cHJlc3Npb25cIjpyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG4oZSxpKSkudGhlbihmdW5jdGlvbihlKXtyZXR1cm4gZVsxXX0pO2Nhc2VcIlRoaXNFeHByZXNzaW9uXCI6cmV0dXJuIFByb21pc2UucmVzb2x2ZShpKTtjYXNlXCJVbmFyeUV4cHJlc3Npb25cIjp2YXIgaD11W2Uub3BlcmF0b3JdO3JldHVybiBQcm9taXNlLnJlc29sdmUocihlLmFyZ3VtZW50LGkpKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVybiBoLmNhbGwodSxlKX0pO2RlZmF1bHQ6cmV0dXJuIFByb21pc2UucmVzb2x2ZSh2b2lkIDApfX1jYXRjaChlKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoZSl9fSxuPWZ1bmN0aW9uKGUsbil7dHJ5e3JldHVybiBQcm9taXNlLnJlc29sdmUocihlLm9iamVjdCxuKSkudGhlbihmdW5jdGlvbih0KXtyZXR1cm4gZS5jb21wdXRlZD9Qcm9taXNlLnJlc29sdmUocihlLnByb3BlcnR5LG4pKS50aGVuKGZ1bmN0aW9uKGUpe3JldHVyblt0LHRbZV1dfSk6W3QsdFtlLnByb3BlcnR5Lm5hbWVdXX0pfWNhdGNoKGUpe3JldHVybiBQcm9taXNlLnJlamVjdChlKX19LHQ9ZnVuY3Rpb24oZSxuKXt0cnl7cmV0dXJuIFByb21pc2UucmVzb2x2ZShQcm9taXNlLmFsbChlLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gcihlLG4pfSkpKX1jYXRjaChlKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoZSl9fSxvPXtcInx8XCI6ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZXx8cn0sXCImJlwiOmZ1bmN0aW9uKGUscil7cmV0dXJuIGUmJnJ9LFwifFwiOmZ1bmN0aW9uKGUscil7cmV0dXJuIGV8cn0sXCJeXCI6ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZV5yfSxcIiZcIjpmdW5jdGlvbihlLHIpe3JldHVybiBlJnJ9LFwiPT1cIjpmdW5jdGlvbihlLHIpe3JldHVybiBlPT1yfSxcIiE9XCI6ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZSE9cn0sXCI9PT1cIjpmdW5jdGlvbihlLHIpe3JldHVybiBlPT09cn0sXCIhPT1cIjpmdW5jdGlvbihlLHIpe3JldHVybiBlIT09cn0sXCI8XCI6ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZTxyfSxcIj5cIjpmdW5jdGlvbihlLHIpe3JldHVybiBlPnJ9LFwiPD1cIjpmdW5jdGlvbihlLHIpe3JldHVybiBlPD1yfSxcIj49XCI6ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZT49cn0sXCI8PFwiOmZ1bmN0aW9uKGUscil7cmV0dXJuIGU8PHJ9LFwiPj5cIjpmdW5jdGlvbihlLHIpe3JldHVybiBlPj5yfSxcIj4+PlwiOmZ1bmN0aW9uKGUscil7cmV0dXJuIGU+Pj5yfSxcIitcIjpmdW5jdGlvbihlLHIpe3JldHVybiBlK3J9LFwiLVwiOmZ1bmN0aW9uKGUscil7cmV0dXJuIGUtcn0sXCIqXCI6ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZSpyfSxcIi9cIjpmdW5jdGlvbihlLHIpe3JldHVybiBlL3J9LFwiJVwiOmZ1bmN0aW9uKGUscil7cmV0dXJuIGUlcn19LHU9e1wiLVwiOmZ1bmN0aW9uKGUpe3JldHVybi1lfSxcIitcIjpmdW5jdGlvbihlKXtyZXR1cm4rZX0sXCJ+XCI6ZnVuY3Rpb24oZSl7cmV0dXJufmV9LFwiIVwiOmZ1bmN0aW9uKGUpe3JldHVybiFlfX07ZnVuY3Rpb24gaShlLHIpe3JldHVybiBlLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gYyhlLHIpfSl9ZnVuY3Rpb24gcyhlLHIpe3ZhciBuPWMoZS5vYmplY3Qscik7cmV0dXJuIGUuY29tcHV0ZWQ/W24sbltjKGUucHJvcGVydHkscildXTpbbixuW2UucHJvcGVydHkubmFtZV1dfWZ1bmN0aW9uIGMoZSxyKXtzd2l0Y2goZS50eXBlKXtjYXNlXCJBcnJheUV4cHJlc3Npb25cIjpyZXR1cm4gaShlLmVsZW1lbnRzLHIpO2Nhc2VcIkJpbmFyeUV4cHJlc3Npb25cIjpyZXR1cm4gb1tlLm9wZXJhdG9yXShjKGUubGVmdCxyKSxjKGUucmlnaHQscikpO2Nhc2VcIkNhbGxFeHByZXNzaW9uXCI6dmFyIG4sdCxhO2lmKFwiTWVtYmVyRXhwcmVzc2lvblwiPT09ZS5jYWxsZWUudHlwZT8obj0oYT1zKGUuY2FsbGVlLHIpKVswXSx0PWFbMV0pOnQ9YyhlLmNhbGxlZSxyKSxcImZ1bmN0aW9uXCIhPXR5cGVvZiB0KXJldHVybjtyZXR1cm4gdC5hcHBseShuLGkoZS5hcmd1bWVudHMscikpO2Nhc2VcIkNvbmRpdGlvbmFsRXhwcmVzc2lvblwiOnJldHVybiBjKGUudGVzdCxyKT9jKGUuY29uc2VxdWVudCxyKTpjKGUuYWx0ZXJuYXRlLHIpO2Nhc2VcIklkZW50aWZpZXJcIjpyZXR1cm4gcltlLm5hbWVdO2Nhc2VcIkxpdGVyYWxcIjpyZXR1cm4gZS52YWx1ZTtjYXNlXCJMb2dpY2FsRXhwcmVzc2lvblwiOnJldHVyblwifHxcIj09PWUub3BlcmF0b3I/YyhlLmxlZnQscil8fGMoZS5yaWdodCxyKTpcIiYmXCI9PT1lLm9wZXJhdG9yP2MoZS5sZWZ0LHIpJiZjKGUucmlnaHQscik6b1tlLm9wZXJhdG9yXShjKGUubGVmdCxyKSxjKGUucmlnaHQscikpO2Nhc2VcIk1lbWJlckV4cHJlc3Npb25cIjpyZXR1cm4gcyhlLHIpWzFdO2Nhc2VcIlRoaXNFeHByZXNzaW9uXCI6cmV0dXJuIHI7Y2FzZVwiVW5hcnlFeHByZXNzaW9uXCI6cmV0dXJuIHVbZS5vcGVyYXRvcl0oYyhlLmFyZ3VtZW50LHIpKTtkZWZhdWx0OnJldHVybn19ZnVuY3Rpb24gYShyKXtyZXR1cm4gYy5iaW5kKG51bGwsZShyKSl9ZnVuY3Rpb24gbChuKXtyZXR1cm4gci5iaW5kKG51bGwsZShuKSl9ZnVuY3Rpb24gZihyLG4pe2UuYWRkVW5hcnlPcChyKSx1W3JdPW59ZnVuY3Rpb24gcChyLG4pe2UuYWRkQmluYXJ5T3Aociksb1tyXT1ufWV4cG9ydHtjIGFzIGV2YWwsciBhcyBldmFsQXN5bmMsYSBhcyBjb21waWxlLGwgYXMgY29tcGlsZUFzeW5jLGYgYXMgYWRkVW5hcnlPcCxwIGFzIGFkZEJpbmFyeU9wfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWV4cHJlc3Npb24tZXZhbC5tb2R1bGUuanMubWFwXG4iLCIvKipcclxuICogQSBjbGFzcyBkZWZpbmluZyBhbiBhdHRyaWJ1dGUgZm9yIGEgUXVlcnkuIEdlbmVyYWxseSB1c2VkXHJcbiAqIHRvIGFsaWFzIGFuIGF0dHJpYnV0ZSBmcm9tIHRoZSBzb3VyY2UgYXJyYXkgZGF0YSwgYnV0IGNhbiBhbHNvXHJcbiAqIGJlIHVzZWQgdG8gZGVmaW5lIGFuIGV4cHJlc3Npb25cclxuICovXHJcbnZhciBRdWVyeUF0dHJpYnV0ZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFF1ZXJ5QXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUsIGFsaWFzLCBleHByZXNzaW9uKSB7XHJcbiAgICAgICAgaWYgKGV4cHJlc3Npb24gPT09IHZvaWQgMCkgeyBleHByZXNzaW9uID0gbnVsbDsgfVxyXG4gICAgICAgIHRoaXMuYXR0cmlidXRlTmFtZSA9IGF0dHJpYnV0ZU5hbWU7XHJcbiAgICAgICAgdGhpcy5hbGlhcyA9IGFsaWFzIHx8IGF0dHJpYnV0ZU5hbWU7XHJcbiAgICAgICAgdGhpcy5leHByZXNzaW9uID0gZXhwcmVzc2lvbjtcclxuICAgIH1cclxuICAgIHJldHVybiBRdWVyeUF0dHJpYnV0ZTtcclxufSgpKTtcclxuZXhwb3J0IHsgUXVlcnlBdHRyaWJ1dGUgfTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cXVlcnktYXR0cmlidXRlLmpzLm1hcCIsImltcG9ydCB7IFF1ZXJ5QXR0cmlidXRlIH0gZnJvbSBcIi4vcXVlcnktYXR0cmlidXRlXCI7XHJcbmltcG9ydCB7IHBhcnNlLCBldmFsIGFzIGV4cEV2YWwgfSBmcm9tICdleHByZXNzaW9uLWV2YWwnO1xyXG4vKipcclxuICogQmFzZSBjbGFzcyBmb3IgRnJvbSBhbmQgV2hlcmUgb2JqZWN0LiBUaGUgcXVlcnkgY2xhc3NcclxuICogYWNjZXB0cyB5b3VyIGFycmF5IGRhdGEsIGFuZCBjYW4gcmV0dXJuIGl0IHZpYSB0aGUgJ3NlbGVjdCcgZnVuY3Rpb25cclxuICogU3RhbmQgYWxvbmUsIHRoaXMgZnVuY3Rpb24gaXMgdXNlZnVsIHRvIGFsaWFzIGF0dHJpYnV0ZXMgb2ZcclxuICogeW91ciBhcnJheSBvYmplY3RzXHJcbiAqL1xyXG52YXIgUXVlcnkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBRdWVyeShmcm9tKSB7XHJcbiAgICAgICAgdGhpcy5mcm9tQXJyYXkgPSBmcm9tO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBGZXRjaCB0aGUgQXJyYXkgb2YgdGhpcyBxdWVyeVxyXG4gICAgICovXHJcbiAgICBRdWVyeS5wcm90b3R5cGUuZ2V0UXVlcnlBcnJheSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5mcm9tQXJyYXk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGFuIGFycmF5IGNvbnRhaW5pbmcgb25seSB0aGUgZGVzaXJlZCBhdHRyaWJ1dGVzLCBhbGlhc2VkIGJ5IHRoZSBwcm92aWRlZCBhbGlhcyB2YWx1ZVxyXG4gICAgICogQHBhcmFtIGF0dHJpYnV0ZXMgVGhlIFNlbGVjdCBhdHRyaWJ1dGVzIGFuZCBhbGlhc2VzXHJcbiAgICAgKiBAcmV0dXJucyBZb3VyIGZpbmFsIGFycmF5XHJcbiAgICAgKi9cclxuICAgIFF1ZXJ5LnByb3RvdHlwZS5zZWxlY3QgPSBmdW5jdGlvbiAoYXR0cmlidXRlcykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKGF0dHJpYnV0ZXMgPT09IHZvaWQgMCkgeyBhdHRyaWJ1dGVzID0gbnVsbDsgfVxyXG4gICAgICAgIC8vIFNlbGVjdCAqXHJcbiAgICAgICAgaWYgKCFhdHRyaWJ1dGVzIHx8IGF0dHJpYnV0ZXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZyb21BcnJheTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGlmIHdlIGhhdmUgYSBzdHJpbmcgYXJyYXksIGNvbnZlcnQgaXQgdG8gYSBRdWVyeUF0dHJpYnV0ZSBhcnJheVxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIChhdHRyaWJ1dGVzWzBdKSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXMgPSBhdHRyaWJ1dGVzLm1hcChmdW5jdGlvbiAoYXR0U3RyaW5nKSB7IHJldHVybiBuZXcgUXVlcnlBdHRyaWJ1dGUoYXR0U3RyaW5nLCBhdHRTdHJpbmcpOyB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBvbmx5IHJldHVybiB0aGUgdmFsaWQgYXR0cmlidXRlcywgYW5kIHVzZSB0aGUgYWxpYXMhXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZyb21BcnJheS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgIHZhciBzZWxlY3RJdGVtID0ge307XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gYXR0cmlidXRlczsgX2kgPCBfYS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcXVlcnlBdHRyaWJ1dGUgPSBfYVtfaV07XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRG9lcyB0aGUgaXRlbSBoYXZlIHRoaXMgZXhhY3QgYXR0cmlidXRlP1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIElmIG5vdCwgdGhlbiB3ZSBjYW4gY2hlY2sgaWYgd2UncmUgbG9va2luZyBmb3Igc29tZXRoaW5nIGRlZXBlciB3aXRoIGEgZG90IG5vdGF0aW9uIGNoZWNrXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCB3ZSBjYW4gaWdub3JlIHRoZSBhdHRyaWJ1dGUgYmVjYXVzZSB3ZSBwcm9iYWJseSBkaWRuJ3QgZmluZCBhIG1hdGNoXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFsaWFzID0gcXVlcnlBdHRyaWJ1dGUuYWxpYXMgJiYgcXVlcnlBdHRyaWJ1dGUuYWxpYXMubGVuZ3RoID4gMCA/IHF1ZXJ5QXR0cmlidXRlLmFsaWFzIDogcXVlcnlBdHRyaWJ1dGUuYXR0cmlidXRlTmFtZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocXVlcnlBdHRyaWJ1dGUuZXhwcmVzc2lvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIGlzIGEgZGVyaXZlZCBhdHRyaWJ1dGUgd2l0aCBhIGNhbGN1bGF0ZWQgZXhwcmVzc2lvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFzdCA9IHBhcnNlKHF1ZXJ5QXR0cmlidXRlLmV4cHJlc3Npb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGV4cEV2YWwoYXN0LCBpdGVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnNldEF0dHJpYnV0ZShzZWxlY3RJdGVtLCBhbGlhcywgcmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRBdHRyaWJ1dGUoc2VsZWN0SXRlbSwgYWxpYXMsIG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGl0ZW0sIHF1ZXJ5QXR0cmlidXRlLmF0dHJpYnV0ZU5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRBdHRyaWJ1dGUoc2VsZWN0SXRlbSwgYWxpYXMsIGl0ZW1bcXVlcnlBdHRyaWJ1dGUuYXR0cmlidXRlTmFtZV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHF1ZXJ5QXR0cmlidXRlLmF0dHJpYnV0ZU5hbWUuaW5jbHVkZXMoJy4nKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2V0QXR0cmlidXRlKHNlbGVjdEl0ZW0sIGFsaWFzLCBxdWVyeUF0dHJpYnV0ZS5hdHRyaWJ1dGVOYW1lLnNwbGl0KCcuJykucmVkdWNlKGZ1bmN0aW9uIChvLCBpKSB7IHJldHVybiBvW2ldOyB9LCBpdGVtKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXRBdHRyaWJ1dGUoc2VsZWN0SXRlbSwgYWxpYXMsIG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlbGVjdEl0ZW07XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBRdWVyeS5wcm90b3R5cGUuc2V0QXR0cmlidXRlID0gZnVuY3Rpb24gKG9iaiwgaXMsIHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBpcyA9PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZXRBdHRyaWJ1dGUob2JqLCBpcy5zcGxpdCgnLicpLCB2YWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGlzLmxlbmd0aCA9PSAxKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBvYmpbaXNbMF1dID0gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGlzLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBvYmo7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGlzWzBdKSkge1xyXG4gICAgICAgICAgICAgICAgb2JqW2lzWzBdXSA9IHt9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNldEF0dHJpYnV0ZShvYmpbaXNbMF1dLCBpcy5zbGljZSgxKSwgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gUXVlcnk7XHJcbn0oKSk7XHJcbmV4cG9ydCB7IFF1ZXJ5IH07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXF1ZXJ5LmpzLm1hcCIsImltcG9ydCB7IF9fZXh0ZW5kcywgX19zcHJlYWRBcnJheXMgfSBmcm9tIFwidHNsaWJcIjtcclxuaW1wb3J0IHsgUXVlcnkgfSBmcm9tICcuL3F1ZXJ5JztcclxuLyoqXHJcbiAqIFRoZSBXaGVyZSBjbGFzcyBleHRlbmRzIFF1ZXJ5IGZ1bmN0aW9ucy4gVXNlZCBhcyB0aGUgXCJmaW5hbFwiIHN0YWdlXHJcbiAqIG9mIGEgU1FMaXpyIHF1ZXJ5LCBpdCBjYW4gc29ydCwgbGltaXQsIGFuZCBpbmplY3QgdW5pb25lZCBkYXRhLiBBZGRpdGlvbmFsXHJcbiAqIHdoZXJlIGNsYXVzZXMgY2Fubm90IGJlIGFkZGVkXHJcbiAqIEBleHRlbmRzIFF1ZXJ5XHJcbiAqL1xyXG52YXIgV2hlcmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoV2hlcmUsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBXaGVyZSgpIHtcclxuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XHJcbiAgICB9XHJcbiAgICBXaGVyZS5wcm90b3R5cGUub3JkZXJCeSA9IGZ1bmN0aW9uIChjb21wYXJlRm4sIHJldmVyc2UpIHtcclxuICAgICAgICBpZiAocmV2ZXJzZSA9PT0gdm9pZCAwKSB7IHJldmVyc2UgPSBmYWxzZTsgfVxyXG4gICAgICAgIGlmICghcmV2ZXJzZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFdoZXJlKHRoaXMuZ2V0UXVlcnlBcnJheSgpLnNvcnQoY29tcGFyZUZuKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFdoZXJlKHRoaXMuZ2V0UXVlcnlBcnJheSgpLnNvcnQoY29tcGFyZUZuKS5yZXZlcnNlKCkpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIE9yZGVyIHRoZSBhcnJheSBpbiBBc2NlbmRpbmcgb3JkZXJcclxuICAgICAqIEBwYXJhbSBhdHRyaWJ1dGUgdGhlIGF0dHJpYnV0ZSB0byBvcmRlciBieVxyXG4gICAgKi9cclxuICAgIFdoZXJlLnByb3RvdHlwZS5vcmRlckJ5QXNjID0gZnVuY3Rpb24gKGF0dHJpYnV0ZSkge1xyXG4gICAgICAgIHZhciBhdHRyaWJ1dGVOYW1lID0gdHlwZW9mIChhdHRyaWJ1dGUpID09PSAnc3RyaW5nJyA/IGF0dHJpYnV0ZSA6IGF0dHJpYnV0ZS5hdHRyaWJ1dGVOYW1lO1xyXG4gICAgICAgIHZhciBzb3J0ZWQgPSBfX3NwcmVhZEFycmF5cyh0aGlzLmdldFF1ZXJ5QXJyYXkoKSkuc29ydChmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgICAgICB2YXIgYVZhbCA9IG51bGw7XHJcbiAgICAgICAgICAgIHZhciBiVmFsID0gbnVsbDtcclxuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhLCBhdHRyaWJ1dGVOYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgYVZhbCA9IGFbYXR0cmlidXRlTmFtZV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoYXR0cmlidXRlTmFtZS5pbmNsdWRlcygnLicpKSB7XHJcbiAgICAgICAgICAgICAgICBhVmFsID0gYXR0cmlidXRlTmFtZS5zcGxpdCgnLicpLnJlZHVjZShmdW5jdGlvbiAobywgaSkgeyByZXR1cm4gb1tpXTsgfSwgYSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBhdHRyaWJ1dGVOYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgYlZhbCA9IGFbYXR0cmlidXRlTmFtZV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoYXR0cmlidXRlTmFtZS5pbmNsdWRlcygnLicpKSB7XHJcbiAgICAgICAgICAgICAgICBiVmFsID0gYXR0cmlidXRlTmFtZS5zcGxpdCgnLicpLnJlZHVjZShmdW5jdGlvbiAobywgaSkgeyByZXR1cm4gb1tpXTsgfSwgYik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCFhVmFsIHx8ICFiVmFsKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhVmFsID4gYlZhbCA/IDEgOiAtMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBuZXcgV2hlcmUoc29ydGVkKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIE9yZGVyIHRoZSBhcnJheSBpbiBEZXNjZW5kaW5nIG9yZGVyXHJcbiAgICAgKiBAcGFyYW0gYXR0cmlidXRlIHRoZSBhdHRyaWJ1dGUgdG8gb3JkZXIgYnlcclxuICAgICovXHJcbiAgICBXaGVyZS5wcm90b3R5cGUub3JkZXJCeURlc2MgPSBmdW5jdGlvbiAoYXR0cmlidXRlKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBXaGVyZSh0aGlzLm9yZGVyQnlBc2MoYXR0cmlidXRlKS5nZXRRdWVyeUFycmF5KCkucmV2ZXJzZSgpKTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIExpbWl0cyB0aGUgbnVtYmVyIG9mIHJldHVybmVkIHJlc3VsdHMgYnkgdGhpcyBhbW91bnQuIFRoaXMgd2lsbFxyXG4gICAgICogaW1tZWRpYXRlbHkgcmVkdWNlIHRoZSByZXN1bHQgY291bnQsIHNvIGl0J3MgcmVjb21tZW5kZWQgdG9cclxuICAgICAqIGRvIGFueSBzb3J0aW5nIGJlZm9yZSBsaW1pdGluZ1xyXG4gICAgICogQHBhcmFtIGxpbWl0XHJcbiAgICAgKi9cclxuICAgIFdoZXJlLnByb3RvdHlwZS5saW1pdCA9IGZ1bmN0aW9uIChsaW1pdCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgV2hlcmUodGhpcy5nZXRRdWVyeUFycmF5KCkuc3BsaWNlKDAsIGxpbWl0KSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBcIlVuaW9uXCIgVHdvIGRhdGFzZXRzIHRvZ2V0aGVyLiBUaGlzIGlzIGp1c3QgYSB3cmFwcGVyIGFyb3VuZFxyXG4gICAgICogQXJyYXkuY29uY2F0XHJcbiAgICAgKiBAcGFyYW0gdW5pb25lZERhdGEgVGhlIGFycmF5IHlvdSB3aXNoIHRvIGNvbmNhdGVuYXRlIGludG8gdGhlIGN1cnJlbnQgZGF0YVxyXG4gICAgICovXHJcbiAgICBXaGVyZS5wcm90b3R5cGUudW5pb24gPSBmdW5jdGlvbiAodW5pb25lZERhdGEpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFdoZXJlKHRoaXMuZ2V0UXVlcnlBcnJheSgpLmNvbmNhdCh1bmlvbmVkRGF0YSkpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ291bnQgb2YgaXRlbXMgaW4gdGhlIGFycmF5LiBKdXN0IGEgd3JhcHBlciBhcm91bmQgQXJyYXkubGVuZ3RoXHJcbiAgICAgKi9cclxuICAgIFdoZXJlLnByb3RvdHlwZS5jb3VudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRRdWVyeUFycmF5KCkubGVuZ3RoO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQ2FsY3VsYXRlIHRoZSBzdW0gb2YgYW4gYXR0cmlidXRlIGluIHlvdXIgYXJyYXlcclxuICAgICAqIEBwYXJhbSBhdHRyaWJ1dGUgVGhlIGF0dHJpYnV0ZSB0byBzdW1cclxuICAgICAqL1xyXG4gICAgV2hlcmUucHJvdG90eXBlLnN1bSA9IGZ1bmN0aW9uIChhdHRyaWJ1dGUpIHtcclxuICAgICAgICB2YXIgYXR0cmlidXRlTmFtZSA9IHR5cGVvZiAoYXR0cmlidXRlKSA9PT0gJ3N0cmluZycgPyBhdHRyaWJ1dGUgOiBhdHRyaWJ1dGUuYXR0cmlidXRlTmFtZTtcclxuICAgICAgICB2YXIgcmVzdWx0ID0gMDtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDAsIF9hID0gdGhpcy5nZXRRdWVyeUFycmF5KCk7IF9pIDwgX2EubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBpdGVtID0gX2FbX2ldO1xyXG4gICAgICAgICAgICB2YXIgdmFsID0gMDtcclxuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpdGVtLCBhdHRyaWJ1dGVOYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgdmFsID0gaXRlbVthdHRyaWJ1dGVOYW1lXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChhdHRyaWJ1dGVOYW1lLmluY2x1ZGVzKCcuJykpIHtcclxuICAgICAgICAgICAgICAgIHZhbCA9IGF0dHJpYnV0ZU5hbWUuc3BsaXQoJy4nKS5yZWR1Y2UoZnVuY3Rpb24gKG8sIGkpIHsgcmV0dXJuIG9baV07IH0sIGl0ZW0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgKHZhbCkgPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gdmFsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGF2ZXJhZ2UgdmFsdWUgb2YgYW4gYXR0cmlidXRlIGluIHlvdXIgYXJyYXlcclxuICAgICAqIEBwYXJhbSBhdHRyaWJ1dGUgdGhlIGF0dHJpYnV0ZSB0byBhdmVyYWdlXHJcbiAgICAgKi9cclxuICAgIFdoZXJlLnByb3RvdHlwZS5hdmVyYWdlID0gZnVuY3Rpb24gKGF0dHJpYnV0ZSkge1xyXG4gICAgICAgIHZhciBzdW0gPSB0aGlzLnN1bShhdHRyaWJ1dGUpO1xyXG4gICAgICAgIHJldHVybiBzdW0gLyB0aGlzLmdldFF1ZXJ5QXJyYXkoKS5sZW5ndGg7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFdoZXJlO1xyXG59KFF1ZXJ5KSk7XHJcbmV4cG9ydCB7IFdoZXJlIH07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdoZXJlLmpzLm1hcCIsImltcG9ydCB7IF9fZXh0ZW5kcyB9IGZyb20gXCJ0c2xpYlwiO1xyXG5pbXBvcnQgeyBkZWVwQ29weSB9IGZyb20gJy4vZGVlcC1jb3B5JztcclxuaW1wb3J0IHsgcGFyc2UsIGV2YWwgYXMgZXhwRXZhbCB9IGZyb20gJ2V4cHJlc3Npb24tZXZhbCc7XHJcbmltcG9ydCB7IFF1ZXJ5IH0gZnJvbSAnLi9xdWVyeSc7XHJcbmltcG9ydCB7IFdoZXJlIH0gZnJvbSAnLi93aGVyZSc7XHJcbi8qKlxyXG4gKiBUaGUgRnJvbSBjbGFzcyBleHRlbmRzIFF1ZXJ5IGZ1bmN0aW9uYWxpdHkgd2l0aCB0aGUgYWJpbGl0eSB0b1xyXG4gKiBKb2luIGFycmF5cyB0b2dldGhlci4gQWRkaXRpb25hbGx5LCBhZnRlciBqb2lucyBhcmUgY29tcGxldGVkXHJcbiAqIHlvdSBjYW4gZXhlY3V0ZSBhIFwiV2hlcmVcIiBleHByZXNzaW9uLCB3aGljaCB3aWxsIGNvbnZlcnQgdGhlXHJcbiAqIGZyb20gZGF0YXNldCBpbnRvIGEgV2hlcmUgZGF0YXNldC5cclxuICogQGV4dGVuZHMgUXVlcnlcclxuICovXHJcbnZhciBGcm9tID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKEZyb20sIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBGcm9tKCkge1xyXG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogSm9pbiB0aGlzIGFycmF5IHRvIGFub3RoZXIgYXJyYXkuIFJlcXVpcmUgYSBqb2luIGlkZW50aWZpZXIsIHdoaWNoIHdpbGxcclxuICAgICAqIG1hdGNoIHRoZSBqb2luZWQgdmFsdWVzLiBJZiB5b3UgaGF2ZSBtdWx0aXBsZSBqb2lucywgdGhpcyBtYXkgZHVwbGljYXRlXHJcbiAgICAgKiByZWNvcmRzIG9uIHRoZSBcImZyb21cIiBzaWRlXHJcbiAgICAgKiBAcGFyYW0gam9pbiBUaGUgYXJyYXkgdG8gam9pblxyXG4gICAgICogQHBhcmFtIGlkZW50aWZpZXIgVGhlIGlkZW50aWZpZXIgdG8gdXNlIGZvciB0aGUgam9pbmVkIG9iamVjdHNcclxuICAgICAqIEBwYXJhbSBmcm9tQXR0cmlidXRlTmFtZSB0aGUgRnJvbSBhcnJheSBhdHRyaWJ1dGUgdG8gbWF0Y2ggb25cclxuICAgICAqIEBwYXJhbSBqb2luQXR0cmlidXRlTmFtZSB0aGUgam9pbiBhcnJheSBhdHRyaWJ1dGUgdG8gbWF0Y2ggb25cclxuICAgICAqIEBwYXJhbSBpbm5lckpvaW4gRGVmYXVsdHMgdG8gZmFsc2UgKG91dGVyIGpvaW4pLCBzZXQgdG8gdHJ1ZSB0byBwZXJmb3JtIGFuIGlubmVyIGpvaW4gKGV4Y2x1ZGUgbnVsbHMgZnJvbSBmcm9tKVxyXG4gICAgICogQHJldHVybnMgQSBuZXcgXCJGcm9tXCIgb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHJlc3VsdGluZyBqb2luXHJcbiAgICAgKi9cclxuICAgIEZyb20ucHJvdG90eXBlLmpvaW4gPSBmdW5jdGlvbiAoam9pbiwgaWRlbnRpZmllciwgZnJvbUF0dHJpYnV0ZU5hbWUsIGpvaW5BdHRyaWJ1dGVOYW1lLCBpbm5lckpvaW4pIHtcclxuICAgICAgICBpZiAoaW5uZXJKb2luID09PSB2b2lkIDApIHsgaW5uZXJKb2luID0gZmFsc2U7IH1cclxuICAgICAgICAvLyBtZXJnZSB0aGUgam9pbiBhcnJheSBhbmQgdGhlIGZyb20gYXJyYXkgdG9nZXRoZXIsIGJhc2VkIG9uIHRoZSBhdHRyaWJ1dGVzXHJcbiAgICAgICAgdmFyIGpvaW5lZEFycmF5ID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMuZ2V0UXVlcnlBcnJheSgpOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICB2YXIgaXRlbSA9IF9hW19pXTtcclxuICAgICAgICAgICAgdmFyIGZvdW5kSm9pbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBfYiA9IDAsIGpvaW5fMSA9IGpvaW47IF9iIDwgam9pbl8xLmxlbmd0aDsgX2IrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGpvaW5JdGVtID0gam9pbl8xW19iXTtcclxuICAgICAgICAgICAgICAgIGlmIChpdGVtW2Zyb21BdHRyaWJ1dGVOYW1lXSA9PT0gam9pbkl0ZW1bam9pbkF0dHJpYnV0ZU5hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm91bmRKb2luID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgam9pbmVkSXRlbSA9IGRlZXBDb3B5KGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGpvaW5lZEl0ZW1baWRlbnRpZmllcl0gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBhdHQgaW4gam9pbkl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChqb2luSXRlbSwgYXR0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgam9pbmVkSXRlbVtpZGVudGlmaWVyXVthdHRdID0gam9pbkl0ZW1bYXR0XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBqb2luZWRBcnJheS5wdXNoKGpvaW5lZEl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIElmIGl0J3MgYW4gb3V0ZXIgam9pbiBhbmQgd2UgaGF2ZW4ndCBmb3VuZCBhIG1hdGNoLCB3ZSBzaG91bGRcclxuICAgICAgICAgICAgLy8gYWRkIHRoZSByZWNvcmQgd2l0aCBhIG51bGwgaWRlbnRpZmllciBhdHRyaWJ1dGUuXHJcbiAgICAgICAgICAgIGlmICghaW5uZXJKb2luICYmICFmb3VuZEpvaW4pIHtcclxuICAgICAgICAgICAgICAgIHZhciBqb2luZWRJdGVtID0gZGVlcENvcHkoaXRlbSk7XHJcbiAgICAgICAgICAgICAgICBqb2luZWRJdGVtW2lkZW50aWZpZXJdID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIGpvaW5lZEFycmF5LnB1c2goam9pbmVkSXRlbSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBGcm9tKGpvaW5lZEFycmF5KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFVzZXMgdGhlIGV4cHJlc3Npb24tZXZhbCBsaWJyYXJ5IHRvIGV2YWx1YXRlIGFuIGVweHJlc3Npb24uIFRoaXMgZG9lc1xyXG4gICAgICogbm90IGF0IGFueSBwb2ludCBleGVjdXRlIGFuIGV2YWwoKSBzdGF0ZW1lbnQsIGhvd2V2ZXIgeW91IHNob3VsZCBiZVxyXG4gICAgICogY2F1dGlvdXMgd2l0aCBhbnkgZXhwcmVzc2lvbiBldmFsdWF0aW9uLlxyXG4gICAgICogWW91ciBleHByZXNzaW9uIG11c3QgcmVzdWx0IGluIGEgYm9vbGVhbiwgaWU6ICdhdHRyaWJ1dGUgPT09IDQyJ1xyXG4gICAgICogWW91IGNhbiBwYXNzIGluIG51bGwgdG8gcmV0dXJuIGFsbCByZXN1bHRzIHdpdGhvdXQgZXZhbHVhdGluZ1xyXG4gICAgICogQHBhcmFtIGV4cHJlc3Npb24gQW4gZXhwcmVzc2lvblxyXG4gICAgICovXHJcbiAgICBGcm9tLnByb3RvdHlwZS53aGVyZSA9IGZ1bmN0aW9uIChleHByZXNzaW9uKSB7XHJcbiAgICAgICAgaWYgKGV4cHJlc3Npb24gPT09IHZvaWQgMCkgeyBleHByZXNzaW9uID0gbnVsbDsgfVxyXG4gICAgICAgIGlmIChleHByZXNzaW9uICYmIGV4cHJlc3Npb24ubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICB2YXIgcGFzc2VkID0gW107XHJcbiAgICAgICAgICAgIHZhciBhc3QgPSBwYXJzZShleHByZXNzaW9uKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBfYSA9IHRoaXMuZ2V0UXVlcnlBcnJheSgpOyBfaSA8IF9hLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBfYVtfaV07XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBleHBFdmFsKGFzdCwgaXRlbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXNzZWQucHVzaChkZWVwQ29weShpdGVtKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGZhaWxlZCB0byBldmFsdWF0ZSBleHByZXNzaW9uLCB1c3VhbGx5IGEgYmFkIGF0dHJpYnV0ZSB2YWx1ZSwgb3IgbWlzc2luZyBhdHRyaWJ1dGUgZnJvbSBhIGpvaW5cclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBXaGVyZShwYXNzZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBXaGVyZSh0aGlzLmdldFF1ZXJ5QXJyYXkoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogQSB3cmFwcGVyIGFyb3VuZCB0aGUgZGVmYXVsdCBBcnJheS5maWx0ZXIgZnVuY3Rpb24uIEFuXHJcbiAgICAgKiBhbHRlcm5hdGl2ZSB0byB1c2luZyB0aGUgd2hlcmUgZXhwcmVzc2lvbiBldmFsdWF0ZSBmdW5jdGlvblxyXG4gICAgICogQHBhcmFtIHByZWRpY2F0ZSBZb3VyIGZpbHRlciBmdW5jdGlvblxyXG4gICAgICovXHJcbiAgICBGcm9tLnByb3RvdHlwZS53aGVyZUZpbHRlciA9IGZ1bmN0aW9uIChwcmVkaWNhdGUpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFdoZXJlKHRoaXMuZ2V0UXVlcnlBcnJheSgpLmZpbHRlcihwcmVkaWNhdGUpKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gRnJvbTtcclxufShRdWVyeSkpO1xyXG5leHBvcnQgeyBGcm9tIH07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZyb20uanMubWFwIiwiaW1wb3J0IHsgX19zcHJlYWRBcnJheXMgfSBmcm9tIFwidHNsaWJcIjtcclxuaW1wb3J0IHsgRnJvbSB9IGZyb20gXCIuL2Zyb21cIjtcclxuaW1wb3J0IHsgUXVlcnlBdHRyaWJ1dGUgfSBmcm9tIFwiLi9xdWVyeS1hdHRyaWJ1dGVcIjtcclxuLyoqXHJcbiAqIFJvb3QgY2xhc3MgZm9yIFNRTGl6ci4gRG9lc24ndCByZWFsbHkgZG8gbXVjaCBleGNlcHQgYWxsb3cgeW91IHRvIHN0YXJ0XHJcbiAqIGEgXCJGcm9tXCIuIFRoaXMgY2xhc3Mgc2hvdWxkIGV2ZW50dWFsbHkgaGF2ZSB0aGUgYWJpbGl0eSB0byBwYXJzZSBhIFNRTFxyXG4gKiBzdHJpbmcgYXMgd2VsbCFcclxuICovXHJcbnZhciBTUUxpenIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBTUUxpenIoKSB7XHJcbiAgICB9XHJcbiAgICBTUUxpenIuZnJvbSA9IGZ1bmN0aW9uIChhcnJheSkge1xyXG4gICAgICAgIHJldHVybiBuZXcgRnJvbShhcnJheSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBQYXJzZSBhIHF1ZXJ5IHN0cmluZy4gUHJvdmlkZSB0aGUgcXVlcnkgc3RyaW5nIChpbiBTUUwgc3R5bGUpLCB0aGUgXCJGcm9tXCIgYXJyYXksIGFuZCBhbiAoaW4gb3JkZXIpXHJcbiAgICAgKiBsaXN0IG9mIGpvaW4gYXJyYXlzXHJcbiAgICAgKiBAZXhhbXBsZSBTRUxFQ1QgbmFtZSwgYm9zcy5uYW1lIEFTIGJvc3NOYW1lLCAod2FnZXMud2FnZSAqIDQwKSBBUyB3ZWVrbHlJbmNvbWUgRlJPTSBlbXBsb3llZXMgSk9JTiB3YWdlcyBPTiBqb2IgPSB0aXRsZSBXSEVSRSBhY3RpdmUgPT09IHRydWUgTElNSVQgMTAgT1JERVIgQlkgd2FnZSBBU0NcclxuICAgICAqIEBwYXJhbSBxdWVyeSBUaGUgcXVlcnkgc3RyaW5nIHRvIHBhcnNlXHJcbiAgICAgKiBAcGFyYW0gZnJvbSBUaGUgRnJvbSBhcnJheVxyXG4gICAgICogQHBhcmFtIGpvaW5zIFRoZSBhcnJheXMgdG8gam9pbiAob3JkZXIgaW4gcXVlcnkgYXNzdW1lZClcclxuICAgICAqIEBwYXJhbSB1bmlvbnMgVGhlIGFycmF5cyB0byB1bmlvbiAob3JkZXIgaW4gcXVlcnkgYXNzdW1lZClcclxuICAgICAqL1xyXG4gICAgU1FMaXpyLnBhcnNlID0gZnVuY3Rpb24gKHF1ZXJ5LCBmcm9tLCBqb2lucywgdW5pb25zKSB7XHJcbiAgICAgICAgaWYgKGpvaW5zID09PSB2b2lkIDApIHsgam9pbnMgPSBbXTsgfVxyXG4gICAgICAgIGlmICh1bmlvbnMgPT09IHZvaWQgMCkgeyB1bmlvbnMgPSBbXTsgfVxyXG4gICAgICAgIHZhciByZXZlcnNlZEpvaW5zID0gX19zcHJlYWRBcnJheXMoam9pbnMpLnJldmVyc2UoKTtcclxuICAgICAgICB2YXIgcmV2ZXJzZWRVbmlvbnMgPSBfX3NwcmVhZEFycmF5cyh1bmlvbnMpLnJldmVyc2UoKTtcclxuICAgICAgICB2YXIgaWR4UXVlcnkgPSBxdWVyeS5yZXBsYWNlKC9mcm9tL2lnLCAnJkAqRlJPTScpXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKC9vdXRlciBqb2luL2lnLCAnJkAqT1VUSk4nKVxyXG4gICAgICAgICAgICAucmVwbGFjZSgvaW5uZXIgam9pbi9pZywgJyZAKklOSk4nKVxyXG4gICAgICAgICAgICAucmVwbGFjZSgvam9pbi9pZywgJyZAKkpPSU4nKVxyXG4gICAgICAgICAgICAucmVwbGFjZSgvd2hlcmUvaWcsICcmQCpXSEVSRScpXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKC9vcmRlciBieS9pZywgJyZAKk9SRFJCWScpXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKC9saW1pdC9pZywgJyZAKkxJTUlUJylcclxuICAgICAgICAgICAgLnJlcGxhY2UoL3VuaW9uL2lnLCAnJkAqVU5JT04nKVxyXG4gICAgICAgICAgICAudHJpbSgpO1xyXG4gICAgICAgIHZhciBwYXJ0cyA9IGlkeFF1ZXJ5LnNwbGl0KCcmQConKTtcclxuICAgICAgICAvLyBGcm9tLi4uIHNob3VsZCBiZSBvYnZpb3VzLCBhbmQgd2UgY2FuIGlnbm9yZSBpdFxyXG4gICAgICAgIHZhciBxdWVyeUZyb20gPSBuZXcgRnJvbShmcm9tKTtcclxuICAgICAgICB2YXIgd2hlcmVDbGF1c2UgPSAnJztcclxuICAgICAgICAvLyBKb2luc1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgcGFydHNfMSA9IHBhcnRzOyBfaSA8IHBhcnRzXzEubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciBwYXJ0ID0gcGFydHNfMVtfaV07XHJcbiAgICAgICAgICAgIGlmIChwYXJ0LnRvVXBwZXJDYXNlKCkuc3RhcnRzV2l0aCgnSk9JTicpIHx8IHBhcnQudG9VcHBlckNhc2UoKS5zdGFydHNXaXRoKCdPVVRKTicpIHx8IHBhcnQudG9VcHBlckNhc2UoKS5zdGFydHNXaXRoKCdJTkpOJykpIHtcclxuICAgICAgICAgICAgICAgIHZhciBqb2luQXJyYXkgPSByZXZlcnNlZEpvaW5zLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGpvaW5BcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGduYXJseSwgYnV0IGl0IHdvcmtzLi4uIFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpZGVudGlmaWVyID0gcGFydC5zcGxpdChuZXcgUmVnRXhwKCdPTicsICdpJykpWzBdLnN1YnN0cmluZyg0KS50cmltKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZyb21BdHRyaWJ1dGUgPSBwYXJ0LnNwbGl0KG5ldyBSZWdFeHAoJ09OJywgJ2knKSlbMV0uc3BsaXQoJz0nKVswXS50cmltKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGpvaW5BdHRyaWJ1dGUgPSBwYXJ0LnNwbGl0KG5ldyBSZWdFeHAoJ09OJywgJ2knKSlbMV0uc3BsaXQoJz0nKVsxXS50cmltKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcXVlcnlGcm9tID0gcXVlcnlGcm9tLmpvaW4oam9pbkFycmF5LCBpZGVudGlmaWVyLCBmcm9tQXR0cmlidXRlLCBqb2luQXR0cmlidXRlLCBwYXJ0LnRvVXBwZXJDYXNlKCkuc3RhcnRzV2l0aCgnSU5KTicpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChwYXJ0LnRvVXBwZXJDYXNlKCkuc3RhcnRzV2l0aCgnV0hFUkUnKSkge1xyXG4gICAgICAgICAgICAgICAgd2hlcmVDbGF1c2UgPSBwYXJ0LnNwbGl0KG5ldyBSZWdFeHAoJ1dIRVJFJywgJ2knKSlbMV0udHJpbSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB3aGVyZSA9IHF1ZXJ5RnJvbS53aGVyZSh3aGVyZUNsYXVzZSk7XHJcbiAgICAgICAgLy8gQW55IGV4dHJhIFdoZXJlIGJpdHNcclxuICAgICAgICBmb3IgKHZhciBfYSA9IDAsIHBhcnRzXzIgPSBwYXJ0czsgX2EgPCBwYXJ0c18yLmxlbmd0aDsgX2ErKykge1xyXG4gICAgICAgICAgICB2YXIgcGFydCA9IHBhcnRzXzJbX2FdO1xyXG4gICAgICAgICAgICBpZiAocGFydC50b1VwcGVyQ2FzZSgpLnN0YXJ0c1dpdGgoJ0xJTUlUJykpIHtcclxuICAgICAgICAgICAgICAgIHZhciBsaW1pdCA9IHBhcnQuc3BsaXQobmV3IFJlZ0V4cCgnTElNSVQnLCAnaScpKVsxXS50cmltKCk7XHJcbiAgICAgICAgICAgICAgICB3aGVyZSA9IHdoZXJlLmxpbWl0KHBhcnNlSW50KGxpbWl0KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAocGFydC50b1VwcGVyQ2FzZSgpLnN0YXJ0c1dpdGgoJ09SRFJCWScpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXR0cmlidXRlID0gcGFydC5zcGxpdCgnICcpWzJdO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhcnQudG9VcHBlckNhc2UoKS5pbmNsdWRlcygnQVNDJykpIHtcclxuICAgICAgICAgICAgICAgICAgICB3aGVyZSA9IHdoZXJlLm9yZGVyQnlBc2MoYXR0cmlidXRlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHdoZXJlID0gd2hlcmUub3JkZXJCeURlc2MoYXR0cmlidXRlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChwYXJ0LnRvVXBwZXJDYXNlKCkuc3RhcnRzV2l0aCgnVU5JT04nKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHVuaW9uID0gcmV2ZXJzZWRVbmlvbnMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodW5pb24pIHtcclxuICAgICAgICAgICAgICAgICAgICB3aGVyZSA9IHdoZXJlLnVuaW9uKHVuaW9uKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBwYXJzZSB0aGUgU0VMRUNUXHJcbiAgICAgICAgdmFyIHNlbGVjdCA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIF9iID0gMCwgcGFydHNfMyA9IHBhcnRzOyBfYiA8IHBhcnRzXzMubGVuZ3RoOyBfYisrKSB7XHJcbiAgICAgICAgICAgIHZhciBwYXJ0ID0gcGFydHNfM1tfYl07XHJcbiAgICAgICAgICAgIGlmIChwYXJ0LnRvVXBwZXJDYXNlKCkuc3RhcnRzV2l0aCgnU0VMRUNUJykgJiYgcGFydC50b1VwcGVyQ2FzZSgpLnRyaW0oKSAhPT0gJ1NFTEVDVCAqJykge1xyXG4gICAgICAgICAgICAgICAgLy8gU0VMRUNUIG5hbWUgQVMgcGV0TmFtZSwgb3duZXIubmFtZSBBUyBvd25lck5hbWVcclxuICAgICAgICAgICAgICAgIHZhciB0cmltbWVkUGFydCA9IHBhcnQudHJpbSgpLnN1YnN0cmluZyg2KS50cmltKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgY2xhdXNlcyA9IHRyaW1tZWRQYXJ0LnNwbGl0KCcsJyk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfYyA9IDAsIGNsYXVzZXNfMSA9IGNsYXVzZXM7IF9jIDwgY2xhdXNlc18xLmxlbmd0aDsgX2MrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjbGF1c2UgPSBjbGF1c2VzXzFbX2NdO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhdHRyaWJ1dGVBbGlhc2VzID0gY2xhdXNlLnNwbGl0KG5ldyBSZWdFeHAoJ2FzJywgJ2knKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZSA9IGF0dHJpYnV0ZUFsaWFzZXNbMF0udHJpbSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhbGlhcyA9IGF0dHJpYnV0ZUFsaWFzZXMubGVuZ3RoID4gMSA/IGF0dHJpYnV0ZUFsaWFzZXNbMV0udHJpbSgpIDogYXR0cmlidXRlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGUuc3RhcnRzV2l0aCgnKCcpICYmIGF0dHJpYnV0ZS5lbmRzV2l0aCgnKScpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGV4cHJlc3Npb24gcGFyc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0LnB1c2gobmV3IFF1ZXJ5QXR0cmlidXRlKCdleHByZXNzaW9uJywgYWxpYXMsIGF0dHJpYnV0ZS5zdWJzdHJpbmcoMSwgYXR0cmlidXRlLmxlbmd0aCAtIDEpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3QucHVzaChuZXcgUXVlcnlBdHRyaWJ1dGUoYXR0cmlidXRlLCBhbGlhcykpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHJldHVybiB0aGUgcmVzdWx0aW5nIGFycmF5XHJcbiAgICAgICAgcmV0dXJuIHdoZXJlLnNlbGVjdChzZWxlY3QpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBTUUxpenI7XHJcbn0oKSk7XHJcbmV4cG9ydCB7IFNRTGl6ciB9O1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1zcWxpenIuanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==